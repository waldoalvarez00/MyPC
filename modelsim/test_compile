#! /usr/local/bin/vvp
:ivl_version "12.0 (stable)";
:ivl_delay_selection "TYPICAL";
:vpi_time_precision - 12;
:vpi_module "/usr/local/lib/ivl/system.vpi";
:vpi_module "/usr/local/lib/ivl/vhdl_sys.vpi";
:vpi_module "/usr/local/lib/ivl/vhdl_textio.vpi";
:vpi_module "/usr/local/lib/ivl/v2005_math.vpi";
:vpi_module "/usr/local/lib/ivl/va_math.vpi";
:vpi_module "/usr/local/lib/ivl/v2009.vpi";
S_0x6318ba2fef30 .scope package, "$unit" "$unit" 2 1;
 .timescale 0 0;
enum0x6318ba19a220 .enum2 (3)
   "AX" 0,
   "CX" 1,
   "DX" 2,
   "BX" 3,
   "SP" 4,
   "BP" 5,
   "SI" 6,
   "DI" 7
 ;
enum0x6318ba199020 .enum2 (3)
   "AL" 0,
   "CL" 1,
   "DL" 2,
   "BL" 3,
   "AH" 4,
   "CH" 5,
   "DH" 6,
   "BH" 7
 ;
enum0x6318ba1ab3a0 .enum2 (2)
   "ES" 0,
   "CS" 1,
   "SS" 2,
   "DS" 3
 ;
enum0x6318ba1aba50 .enum2 (2)
   "REP_PREFIX_NONE" 0,
   "REP_PREFIX_E" 1,
   "REP_PREFIX_NE" 2
 ;
enum0x6318ba1abfb0 .enum2 (3)
   "ADriver_RA" 0,
   "ADriver_IP" 1,
   "ADriver_MAR" 2,
   "ADriver_MDR" 3,
   "ADriver_FPU_STATUS" 4,
   "ADriver_FPU_CONTROL" 5
 ;
enum0x6318ba1ac9e0 .enum2 (3)
   "BDriver_RB" 0,
   "BDriver_IMMEDIATE" 1,
   "BDriver_SR" 2,
   "BDriver_TEMP" 3,
   "BDriver_IMMEDIATE2" 4
 ;
enum0x6318ba246c70 .enum2 (6)
   "ALUOp_SELA" 0,
   "ALUOp_SELB" 1,
   "ALUOp_ADD" 2,
   "ALUOp_ADC" 3,
   "ALUOp_AND" 4,
   "ALUOp_XOR" 5,
   "ALUOp_OR" 6,
   "ALUOp_SUB" 7,
   "ALUOp_SUBREV" 8,
   "ALUOp_SBB" 9,
   "ALUOp_SBBREV" 10,
   "ALUOp_GETFLAGS" 11,
   "ALUOp_SETFLAGSB" 12,
   "ALUOp_SETFLAGSA" 13,
   "ALUOp_CMC" 14,
   "ALUOp_SHR" 15,
   "ALUOp_SHL" 16,
   "ALUOp_SAR" 17,
   "ALUOp_ROR" 18,
   "ALUOp_ROL" 19,
   "ALUOp_RCL" 20,
   "ALUOp_RCR" 21,
   "ALUOp_NOT" 22,
   "ALUOp_NEXT" 23,
   "ALUOp_AAA" 24,
   "ALUOp_AAS" 25,
   "ALUOp_DAA" 26,
   "ALUOp_DAS" 27,
   "ALUOp_MUL" 28,
   "ALUOp_IMUL" 29,
   "ALUOp_DIV" 30,
   "ALUOp_IDIV" 31,
   "ALUOp_EXTEND" 32,
   "ALUOp_BOUNDL" 33,
   "ALUOp_BOUNDH" 34,
   "ALUOp_ENTER_FRAME_TEMP_ADDR" 35
 ;
enum0x6318ba24a480 .enum2 (4)
   "JumpType_UNCONDITIONAL" 0,
   "JumpType_RM_REG_MEM" 1,
   "JumpType_OPCODE" 2,
   "JumpType_DISPATCH_REG" 3,
   "JumpType_HAS_NO_REP_PREFIX" 4,
   "JumpType_ZERO" 5,
   "JumpType_REP_NOT_COMPLETE" 6,
   "JumpType_JUMP_TAKEN" 7,
   "JumpType_RB_ZERO" 8,
   "JumpType_LOOP_DONE" 9,
   "JumpType_FPU_BUSY" 10,
   "JumpType_FPU_ERROR" 11
 ;
enum0x6318ba24b840 .enum2 (2)
   "RDSelSource_NONE" 0,
   "RDSelSource_MODRM_REG" 1,
   "RDSelSource_MODRM_RM_REG" 2,
   "RDSelSource_MICROCODE_RD_SEL" 3
 ;
enum0x6318ba24bfe0 .enum2 (1)
   "MARWrSel_EA" 0,
   "MARWrSel_Q" 1
 ;
enum0x6318ba24c4f0 .enum2 (1)
   "TEMPWrSel_Q_LOW" 0,
   "TEMPWrSel_Q_HIGH" 1
 ;
enum0x6318ba24c9c0 .enum2 (4)
   "UpdateFlags_CF" 0,
   "UpdateFlags_PF" 1,
   "UpdateFlags_AF" 2,
   "UpdateFlags_ZF" 3,
   "UpdateFlags_SF" 4,
   "UpdateFlags_TF" 5,
   "UpdateFlags_IF" 6,
   "UpdateFlags_DF" 7,
   "UpdateFlags_OF" 8
 ;
enum0x6318ba24d8c0 .enum2 (2)
   "RegWrSource_Q" 0,
   "RegWrSource_QUOTIENT" 1,
   "RegWrSource_REMAINDER" 2
 ;
enum0x6318ba24df40 .enum2 (2)
   "WidthType_W16" 0,
   "WidthType_W8" 1,
   "WidthType_WAUTO" 2
 ;
S_0x6318ba281990 .scope module, "microcode_tb" "microcode_tb" 3 21;
 .timescale -9 -12;
v0x6318ba331b40_0 .net "a_sel", 2 0, L_0x6318ba3356e0;  1 drivers
v0x6318ba331c20_0 .net "alu_op", 5 0, L_0x6318ba335870;  1 drivers
v0x6318ba331cf0_0 .net "b_sel", 2 0, L_0x6318ba3359a0;  1 drivers
v0x6318ba331df0_0 .var "clk", 0 0;
v0x6318ba331ec0_0 .net "cur_instruction", 75 0, v0x6318ba31c570_0;  1 drivers
v0x6318ba331f60_0 .var "debug_addr", 7 0;
v0x6318ba332030_0 .var "debug_run", 0 0;
v0x6318ba332100_0 .var "debug_seize", 0 0;
v0x6318ba3321d0_0 .net "debug_stopped", 0 0, L_0x6318ba3485c0;  1 drivers
v0x6318ba332330_0 .var "divide_error", 0 0;
v0x6318ba332400_0 .net "do_escape_fault", 0 0, L_0x6318ba349d00;  1 drivers
v0x6318ba3324d0_0 .net "ext_int_yield", 0 0, L_0x6318ba335a90;  1 drivers
v0x6318ba3325a0_0 .var/i "fail_count", 31 0;
v0x6318ba332640_0 .var "fifo_empty", 0 0;
v0x6318ba332710_0 .net "fifo_rd_en", 0 0, L_0x6318ba2fc2d0;  1 drivers
v0x6318ba3327e0_0 .var "fifo_resetting", 0 0;
v0x6318ba3328b0_0 .var "fpu_busy", 0 0;
v0x6318ba332980_0 .net "fpu_ctrl_wr", 0 0, L_0x6318ba337200;  1 drivers
v0x6318ba332a50_0 .var "int_enabled", 0 0;
v0x6318ba332b20_0 .net "inta", 0 0, v0x6318ba31d410_0;  1 drivers
v0x6318ba332bf0_0 .var "intr", 0 0;
v0x6318ba332cc0_0 .net "io", 0 0, L_0x6318ba335b80;  1 drivers
v0x6318ba332d90_0 .net "irq_to_mdr", 0 0, L_0x6318ba34b950;  1 drivers
v0x6318ba332e60_0 .net "is_hlt", 0 0, L_0x6318ba34c7a0;  1 drivers
v0x6318ba332f30_0 .var "jump_taken", 0 0;
v0x6318ba333000_0 .net "load_ip", 0 0, L_0x6318ba335c70;  1 drivers
v0x6318ba3330d0_0 .net "lock", 0 0, L_0x6318ba34df90;  1 drivers
v0x6318ba3331a0_0 .var "loop_done", 0 0;
v0x6318ba333270_0 .net "loop_next", 0 0, L_0x6318ba34d260;  1 drivers
v0x6318ba333340_0 .net "mar_wr_sel", 0 0, L_0x6318ba335dc0;  1 drivers
v0x6318ba333410_0 .net "mar_write", 0 0, L_0x6318ba335e60;  1 drivers
v0x6318ba3334e0_0 .net "mdr_write", 0 0, L_0x6318ba335fc0;  1 drivers
v0x6318ba3335b0_0 .net "mem_read", 0 0, L_0x6318ba3360b0;  1 drivers
v0x6318ba333680_0 .net "mem_write", 0 0, L_0x6318ba336220;  1 drivers
v0x6318ba333750_0 .net "microcode_immediate", 15 0, v0x6318ba32e120_0;  1 drivers
v0x6318ba333820_0 .var "modrm_reg", 2 0;
v0x6318ba3338f0_0 .net "modrm_start", 0 0, L_0x6318ba2fe0a0;  1 drivers
v0x6318ba3339c0_0 .net "multibit_shift", 0 0, L_0x6318ba349500;  1 drivers
v0x6318ba333a90_0 .net "next_instruction", 0 0, L_0x6318ba336310;  1 drivers
v0x6318ba333b60_0 .var "next_instruction_value", 75 0;
v0x6318ba333c30_0 .net "next_microinstruction", 0 0, L_0x6318ba34dea0;  1 drivers
v0x6318ba333d00_0 .var "nmi_pulse", 0 0;
v0x6318ba333dd0_0 .net "opcode", 7 0, L_0x6318ba335480;  1 drivers
v0x6318ba333ea0_0 .var/i "pass_count", 31 0;
v0x6318ba333f40_0 .net "ra_modrm_rm_reg", 0 0, L_0x6318ba336490;  1 drivers
v0x6318ba334010_0 .net "ra_sel", 2 0, L_0x6318ba336580;  1 drivers
v0x6318ba3340e0_0 .net "rb_cl", 0 0, L_0x6318ba336710;  1 drivers
v0x6318ba3341b0_0 .var "rb_zero", 0 0;
v0x6318ba334280_0 .net "rd_sel", 2 0, L_0x6318ba336800;  1 drivers
v0x6318ba334350_0 .net "rd_sel_source", 1 0, L_0x6318ba336670;  1 drivers
v0x6318ba334420_0 .net "reg_wr_en", 0 0, L_0x6318ba34dd40;  1 drivers
v0x6318ba3344f0_0 .net "reg_wr_source", 1 0, L_0x6318ba3369f0;  1 drivers
v0x6318ba3345c0_0 .var "reset", 0 0;
v0x6318ba334690_0 .var "rm_is_reg", 0 0;
v0x6318ba334760_0 .net "segment", 1 0, L_0x6318ba336ba0;  1 drivers
v0x6318ba334830_0 .net "segment_force", 0 0, L_0x6318ba336c90;  1 drivers
v0x6318ba334900_0 .net "segment_wr_en", 0 0, L_0x6318ba336e50;  1 drivers
v0x6318ba3349d0_0 .var "stall", 0 0;
v0x6318ba334aa0_0 .net "start_interrupt", 0 0, L_0x6318ba34c230;  1 drivers
v0x6318ba334b70_0 .net "starting_instruction", 0 0, L_0x6318ba2fc4d0;  1 drivers
v0x6318ba334c40_0 .var/i "test_count", 31 0;
v0x6318ba334ce0_0 .var "tf", 0 0;
v0x6318ba334db0_0 .net "tmp_wr_en", 0 0, L_0x6318ba336f40;  1 drivers
v0x6318ba334e80_0 .net "tmp_wr_sel", 0 0, L_0x6318ba337110;  1 drivers
v0x6318ba334f50_0 .net "update_flags", 8 0, v0x6318ba330570_0;  1 drivers
v0x6318ba335020_0 .net "use_microcode_immediate", 0 0, L_0x6318ba335390;  1 drivers
v0x6318ba3350f0_0 .net "width", 0 0, v0x6318ba330710_0;  1 drivers
v0x6318ba3351c0_0 .var "zf", 0 0;
S_0x6318ba280590 .scope begin, "$unm_blk_28" "$unm_blk_28" 3 388, 3 388 0, S_0x6318ba281990;
 .timescale -9 -12;
v0x6318ba2fb560_0 .var/i "boot_cycles", 31 0;
v0x6318ba2fc430_0 .var/i "cycle_count", 31 0;
v0x6318ba2fc5f0_0 .var/i "i", 31 0;
v0x6318ba2fd500_0 .var/i "irq_to_mdr_seen", 31 0;
v0x6318ba2fd6c0_0 .var/i "timeout", 31 0;
E_0x6318ba217700 .event posedge, v0x6318ba31c4b0_0;
S_0x6318ba280090 .scope task, "check_result" "check_result" 3 194, 3 194 0, S_0x6318ba281990;
 .timescale -9 -12;
v0x6318ba2fee20_0 .var "actual", 0 0;
v0x6318ba2ff7c0_0 .var "expected", 0 0;
v0x6318ba316cb0_0 .var/str "test_name";
TD_microcode_tb.check_result ;
    %load/vec4 v0x6318ba334c40_0;
    %addi 1, 0, 32;
    %store/vec4 v0x6318ba334c40_0, 0, 32;
    %load/vec4 v0x6318ba2ff7c0_0;
    %load/vec4 v0x6318ba2fee20_0;
    %cmp/e;
    %jmp/0xz  T_0.0, 6;
    %vpi_call/w 3 198 "$display", "[PASS] Test %0d: %s", v0x6318ba334c40_0, v0x6318ba316cb0_0 {0 0 0};
    %load/vec4 v0x6318ba333ea0_0;
    %addi 1, 0, 32;
    %store/vec4 v0x6318ba333ea0_0, 0, 32;
    %jmp T_0.1;
T_0.0 ;
    %vpi_call/w 3 201 "$display", "[FAIL] Test %0d: %s - Expected %b, Got %b", v0x6318ba334c40_0, v0x6318ba316cb0_0, v0x6318ba2ff7c0_0, v0x6318ba2fee20_0 {0 0 0};
    %load/vec4 v0x6318ba3325a0_0;
    %addi 1, 0, 32;
    %store/vec4 v0x6318ba3325a0_0, 0, 32;
T_0.1 ;
    %end;
S_0x6318ba27fb90 .scope task, "check_value" "check_value" 3 208, 3 208 0, S_0x6318ba281990;
 .timescale -9 -12;
v0x6318ba316da0_0 .var/i "actual", 31 0;
v0x6318ba316e80_0 .var/i "expected", 31 0;
v0x6318ba316f60_0 .var/str "test_name";
TD_microcode_tb.check_value ;
    %load/vec4 v0x6318ba334c40_0;
    %addi 1, 0, 32;
    %store/vec4 v0x6318ba334c40_0, 0, 32;
    %load/vec4 v0x6318ba316e80_0;
    %load/vec4 v0x6318ba316da0_0;
    %cmp/e;
    %jmp/0xz  T_1.2, 6;
    %vpi_call/w 3 212 "$display", "[PASS] Test %0d: %s", v0x6318ba334c40_0, v0x6318ba316f60_0 {0 0 0};
    %load/vec4 v0x6318ba333ea0_0;
    %addi 1, 0, 32;
    %store/vec4 v0x6318ba333ea0_0, 0, 32;
    %jmp T_1.3;
T_1.2 ;
    %vpi_call/w 3 215 "$display", "[FAIL] Test %0d: %s - Expected %0d, Got %0d", v0x6318ba334c40_0, v0x6318ba316f60_0, v0x6318ba316e80_0, v0x6318ba316da0_0 {0 0 0};
    %load/vec4 v0x6318ba3325a0_0;
    %addi 1, 0, 32;
    %store/vec4 v0x6318ba3325a0_0, 0, 32;
T_1.3 ;
    %end;
S_0x6318ba27f690 .scope task, "create_instruction" "create_instruction" 3 222, 3 222 0, S_0x6318ba281990;
 .timescale -9 -12;
v0x6318ba317050_0 .var "has_modrm_val", 0 0;
v0x6318ba317130_0 .var "invalid_val", 0 0;
v0x6318ba3171f0_0 .var "lock_val", 0 0;
v0x6318ba317290_0 .var "opcode_val", 7 0;
v0x6318ba317370_0 .var/2u "rep_val", 1 0;
TD_microcode_tb.create_instruction ;
    %load/vec4 v0x6318ba317290_0;
    %ix/load 4, 0, 0;
    %flag_set/imm 4, 0;
    %store/vec4 v0x6318ba333b60_0, 4, 8;
    %load/vec4 v0x6318ba317050_0;
    %ix/load 4, 64, 0;
    %flag_set/imm 4, 0;
    %store/vec4 v0x6318ba333b60_0, 4, 1;
    %load/vec4 v0x6318ba317130_0;
    %ix/load 4, 75, 0;
    %flag_set/imm 4, 0;
    %store/vec4 v0x6318ba333b60_0, 4, 1;
    %load/vec4 v0x6318ba317370_0;
    %ix/load 4, 68, 0;
    %flag_set/imm 4, 0;
    %store/vec4 v0x6318ba333b60_0, 4, 2;
    %load/vec4 v0x6318ba3171f0_0;
    %ix/load 4, 70, 0;
    %flag_set/imm 4, 0;
    %store/vec4 v0x6318ba333b60_0, 4, 1;
    %pushi/vec4 0, 0, 1;
    %ix/load 4, 65, 0;
    %flag_set/imm 4, 0;
    %store/vec4 v0x6318ba333b60_0, 4, 1;
    %pushi/vec4 0, 0, 2;
    %ix/load 4, 66, 0;
    %flag_set/imm 4, 0;
    %store/vec4 v0x6318ba333b60_0, 4, 2;
    %pushi/vec4 192, 0, 8;
    %ix/load 4, 8, 0;
    %flag_set/imm 4, 0;
    %store/vec4 v0x6318ba333b60_0, 4, 8;
    %pushi/vec4 0, 0, 16;
    %ix/load 4, 16, 0;
    %flag_set/imm 4, 0;
    %store/vec4 v0x6318ba333b60_0, 4, 16;
    %pushi/vec4 4660, 0, 16;
    %ix/load 4, 32, 0;
    %flag_set/imm 4, 0;
    %store/vec4 v0x6318ba333b60_0, 4, 16;
    %pushi/vec4 22136, 0, 16;
    %ix/load 4, 48, 0;
    %flag_set/imm 4, 0;
    %store/vec4 v0x6318ba333b60_0, 4, 16;
    %pushi/vec4 1, 0, 4;
    %ix/load 4, 71, 0;
    %flag_set/imm 4, 0;
    %store/vec4 v0x6318ba333b60_0, 4, 4;
    %end;
S_0x6318ba281490 .scope module, "dut" "Microcode" 3 120, 4 24 0, S_0x6318ba281990;
 .timescale -9 -12;
    .port_info 0 /INPUT 1 "clk";
    .port_info 1 /INPUT 1 "reset";
    .port_info 2 /INPUT 1 "nmi_pulse";
    .port_info 3 /INPUT 1 "intr";
    .port_info 4 /OUTPUT 1 "inta";
    .port_info 5 /OUTPUT 1 "irq_to_mdr";
    .port_info 6 /OUTPUT 1 "start_interrupt";
    .port_info 7 /OUTPUT 1 "do_escape_fault";
    .port_info 8 /OUTPUT 1 "starting_instruction";
    .port_info 9 /INPUT 1 "stall";
    .port_info 10 /INPUT 1 "divide_error";
    .port_info 11 /INPUT 1 "rm_is_reg";
    .port_info 12 /INPUT 3 "modrm_reg";
    .port_info 13 /INPUT 1 "int_enabled";
    .port_info 14 /INPUT 1 "zf";
    .port_info 15 /INPUT 1 "tf";
    .port_info 16 /OUTPUT 16 "microcode_immediate";
    .port_info 17 /OUTPUT 9 "update_flags";
    .port_info 18 /OUTPUT 1 "modrm_start";
    .port_info 19 /OUTPUT 1 "use_microcode_immediate";
    .port_info 20 /OUTPUT 8 "opcode";
    .port_info 21 /INPUT 1 "jump_taken";
    .port_info 22 /INPUT 1 "rb_zero";
    .port_info 23 /INPUT 1 "fpu_busy";
    .port_info 24 /INPUT 1 "fpu_int";
    .port_info 25 /OUTPUT 1 "lock";
    .port_info 26 /OUTPUT 1 "multibit_shift";
    .port_info 27 /OUTPUT 1 "is_hlt";
    .port_info 28 /OUTPUT 1 "next_microinstruction";
    .port_info 29 /OUTPUT 3 "a_sel";
    .port_info 30 /OUTPUT 6 "alu_op";
    .port_info 31 /OUTPUT 3 "b_sel";
    .port_info 32 /OUTPUT 1 "ext_int_yield";
    .port_info 33 /OUTPUT 1 "io";
    .port_info 34 /OUTPUT 1 "load_ip";
    .port_info 35 /OUTPUT 1 "mar_wr_sel";
    .port_info 36 /OUTPUT 1 "mar_write";
    .port_info 37 /OUTPUT 1 "mdr_write";
    .port_info 38 /OUTPUT 1 "mem_read";
    .port_info 39 /OUTPUT 1 "mem_write";
    .port_info 40 /OUTPUT 1 "next_instruction";
    .port_info 41 /OUTPUT 1 "ra_modrm_rm_reg";
    .port_info 42 /OUTPUT 3 "ra_sel";
    .port_info 43 /OUTPUT 1 "rb_cl";
    .port_info 44 /OUTPUT 3 "rd_sel";
    .port_info 45 /OUTPUT 2 "rd_sel_source";
    .port_info 46 /OUTPUT 2 "reg_wr_source";
    .port_info 47 /OUTPUT 2 "segment";
    .port_info 48 /OUTPUT 1 "segment_force";
    .port_info 49 /OUTPUT 1 "segment_wr_en";
    .port_info 50 /OUTPUT 1 "tmp_wr_en";
    .port_info 51 /OUTPUT 1 "tmp_wr_sel";
    .port_info 52 /OUTPUT 1 "fpu_ctrl_wr";
    .port_info 53 /OUTPUT 1 "width";
    .port_info 54 /OUTPUT 1 "reg_wr_en";
    .port_info 55 /OUTPUT 1 "fifo_rd_en";
    .port_info 56 /INPUT 76 "next_instruction_value";
    .port_info 57 /OUTPUT 76 "cur_instruction";
    .port_info 58 /INPUT 1 "fifo_empty";
    .port_info 59 /INPUT 1 "fifo_resetting";
    .port_info 60 /OUTPUT 1 "loop_next";
    .port_info 61 /INPUT 1 "loop_done";
    .port_info 62 /OUTPUT 1 "debug_stopped";
    .port_info 63 /INPUT 1 "debug_seize";
    .port_info 64 /INPUT 8 "debug_addr";
    .port_info 65 /INPUT 1 "debug_run";
P_0x6318ba2bf190 .param/l "addr_bits" 1 4 102, +C4<00000000000000000000000000001011>;
P_0x6318ba2bf1d0 .param/l "bad_opcode_address" 1 4 110, C4<00100101111>;
P_0x6318ba2bf210 .param/l "debug_wait_address" 1 4 111, C4<00100000010>;
P_0x6318ba2bf250 .param/l "divide_error_address" 1 4 107, C4<00100000001>;
P_0x6318ba2bf290 .param/l "do_int_address" 1 4 112, C4<00100101101>;
P_0x6318ba2bf2d0 .param/l "irq_address" 1 4 105, C4<00100101011>;
P_0x6318ba2bf310 .param/l "modrm_wait_address" 1 4 109, C4<00100101110>;
P_0x6318ba2bf350 .param/l "next_instruction_address" 1 4 108, C4<00100000000>;
P_0x6318ba2bf390 .param/l "nmi_address" 1 4 104, C4<00100101010>;
P_0x6318ba2bf3d0 .param/l "num_instructions" 1 4 101, +C4<00000000000000000000010010101100>;
P_0x6318ba2bf410 .param/l "reset_address" 1 4 103, C4<00100101001>;
P_0x6318ba2bf450 .param/l "single_step_address" 1 4 106, C4<00100101100>;
L_0x6318ba2fc2d0 .functor BUFZ 1, L_0x6318ba2fc4d0, C4<0>, C4<0>, C4<0>;
L_0x6318ba2fc4d0 .functor AND 1, L_0x6318ba337480, L_0x6318ba3378a0, C4<1>, C4<1>;
L_0x6318ba2fd3a0 .functor AND 1, L_0x6318ba347bf0, L_0x6318ba347e50, C4<1>, C4<1>;
L_0x6318ba2fd5a0 .functor AND 1, L_0x6318ba2fd3a0, L_0x6318ba347fe0, C4<1>, C4<1>;
L_0x6318ba2fe0a0 .functor OR 1, L_0x6318ba347b50, L_0x6318ba2fd5a0, C4<0>, C4<0>;
L_0x6318ba2ff660 .functor OR 1, L_0x6318ba3488f0, L_0x6318ba348be0, C4<0>, C4<0>;
L_0x6318ba225f40 .functor OR 1, L_0x6318ba2ff660, L_0x6318ba349010, C4<0>, C4<0>;
L_0x6318ba349500 .functor OR 1, L_0x6318ba225f40, L_0x6318ba3493c0, C4<0>, C4<0>;
L_0x6318ba349d00 .functor AND 1, L_0x6318ba3498e0, L_0x6318ba349a20, C4<1>, C4<1>;
L_0x6318ba349e60 .functor OR 1, v0x6318ba32e7a0_0, v0x6318ba333d00_0, C4<0>, C4<0>;
L_0x6318ba34a020 .functor AND 1, L_0x6318ba349e60, L_0x6318ba349f80, C4<1>, C4<1>;
L_0x6318ba34a420 .functor AND 1, L_0x6318ba34a020, L_0x6318ba34a330, C4<1>, C4<1>;
L_0x6318ba34a5a0 .functor AND 1, v0x6318ba332bf0_0, v0x6318ba332a50_0, C4<1>, C4<1>;
L_0x6318ba34a960 .functor AND 1, L_0x6318ba34a5a0, L_0x6318ba34a6b0, C4<1>, C4<1>;
L_0x6318ba34a530 .functor AND 1, L_0x6318ba34a960, L_0x6318ba34ab90, C4<1>, C4<1>;
L_0x6318ba34b210 .functor AND 1, L_0x6318ba34aef0, L_0x6318ba34af90, C4<1>, C4<1>;
L_0x6318ba34b3b0 .functor AND 1, L_0x6318ba34b210, v0x6318ba3304b0_0, C4<1>, C4<1>;
L_0x6318ba34b840 .functor AND 1, L_0x6318ba34b3b0, L_0x6318ba34b510, C4<1>, C4<1>;
L_0x6318ba34bd80 .functor AND 1, L_0x6318ba34b840, L_0x6318ba34ba90, C4<1>, C4<1>;
L_0x6318ba34c230 .functor OR 1, L_0x6318ba34be90, L_0x6318ba34bf80, C4<0>, C4<0>;
L_0x6318ba34c930 .functor NOT 1, v0x6318ba32fd30_0, C4<0>, C4<0>, C4<0>;
L_0x6318ba34c9a0 .functor AND 1, v0x6318ba332100_0, L_0x6318ba34c930, C4<1>, C4<1>;
L_0x6318ba34d260 .functor AND 1, L_0x6318ba34cb70, L_0x6318ba34cee0, C4<1>, C4<1>;
L_0x6318ba34dc00 .functor NOT 1, L_0x6318ba336e50, C4<0>, C4<0>, C4<0>;
L_0x6318ba34dd40 .functor AND 1, L_0x6318ba34d870, L_0x6318ba34dc00, C4<1>, C4<1>;
v0x6318ba3183a0_0 .net *"_ivl_1", 3 0, L_0x6318ba335290;  1 drivers
v0x6318ba318480_0 .net *"_ivl_101", 7 0, L_0x6318ba348700;  1 drivers
L_0x7f7236c571c8 .functor BUFT 1, C4<11010010>, C4<0>, C4<0>, C4<0>;
v0x6318ba318560_0 .net/2u *"_ivl_102", 7 0, L_0x7f7236c571c8;  1 drivers
v0x6318ba318620_0 .net *"_ivl_104", 0 0, L_0x6318ba3488f0;  1 drivers
v0x6318ba3186e0_0 .net *"_ivl_107", 7 0, L_0x6318ba3489e0;  1 drivers
L_0x7f7236c57210 .functor BUFT 1, C4<11010011>, C4<0>, C4<0>, C4<0>;
v0x6318ba318810_0 .net/2u *"_ivl_108", 7 0, L_0x7f7236c57210;  1 drivers
L_0x7f7236c57018 .functor BUFT 1, C4<0>, C4<0>, C4<0>, C4<0>;
v0x6318ba3188f0_0 .net *"_ivl_11", 0 0, L_0x7f7236c57018;  1 drivers
v0x6318ba3189d0_0 .net *"_ivl_110", 0 0, L_0x6318ba348be0;  1 drivers
v0x6318ba318a90_0 .net *"_ivl_113", 0 0, L_0x6318ba2ff660;  1 drivers
v0x6318ba318b50_0 .net *"_ivl_115", 7 0, L_0x6318ba348e00;  1 drivers
L_0x7f7236c57258 .functor BUFT 1, C4<11000000>, C4<0>, C4<0>, C4<0>;
v0x6318ba318c30_0 .net/2u *"_ivl_116", 7 0, L_0x7f7236c57258;  1 drivers
v0x6318ba318d10_0 .net *"_ivl_118", 0 0, L_0x6318ba349010;  1 drivers
v0x6318ba318dd0_0 .net *"_ivl_121", 0 0, L_0x6318ba225f40;  1 drivers
v0x6318ba318e90_0 .net *"_ivl_123", 7 0, L_0x6318ba3491a0;  1 drivers
L_0x7f7236c572a0 .functor BUFT 1, C4<11000001>, C4<0>, C4<0>, C4<0>;
v0x6318ba318f70_0 .net/2u *"_ivl_124", 7 0, L_0x7f7236c572a0;  1 drivers
v0x6318ba319050_0 .net *"_ivl_126", 0 0, L_0x6318ba3493c0;  1 drivers
v0x6318ba319110_0 .net *"_ivl_131", 4 0, L_0x6318ba3496b0;  1 drivers
L_0x7f7236c572e8 .functor BUFT 1, C4<11011>, C4<0>, C4<0>, C4<0>;
v0x6318ba3191f0_0 .net/2u *"_ivl_132", 4 0, L_0x7f7236c572e8;  1 drivers
v0x6318ba3192d0_0 .net *"_ivl_134", 0 0, L_0x6318ba3498e0;  1 drivers
L_0x7f7236c57330 .functor BUFT 1, C4<00100101101>, C4<0>, C4<0>, C4<0>;
v0x6318ba319390_0 .net/2u *"_ivl_136", 10 0, L_0x7f7236c57330;  1 drivers
v0x6318ba319470_0 .net *"_ivl_138", 0 0, L_0x6318ba349a20;  1 drivers
v0x6318ba319530_0 .net *"_ivl_142", 0 0, L_0x6318ba349e60;  1 drivers
v0x6318ba319610_0 .net *"_ivl_145", 0 0, L_0x6318ba349f80;  1 drivers
v0x6318ba3196d0_0 .net *"_ivl_146", 0 0, L_0x6318ba34a020;  1 drivers
v0x6318ba3197b0_0 .net *"_ivl_149", 0 0, L_0x6318ba34a0e0;  1 drivers
v0x6318ba319890_0 .net *"_ivl_151", 0 0, L_0x6318ba34a330;  1 drivers
v0x6318ba319950_0 .net *"_ivl_154", 0 0, L_0x6318ba34a5a0;  1 drivers
v0x6318ba319a30_0 .net *"_ivl_157", 0 0, L_0x6318ba34a6b0;  1 drivers
v0x6318ba319af0_0 .net *"_ivl_158", 0 0, L_0x6318ba34a960;  1 drivers
v0x6318ba319bd0_0 .net *"_ivl_161", 0 0, L_0x6318ba34aaf0;  1 drivers
v0x6318ba319cb0_0 .net *"_ivl_163", 0 0, L_0x6318ba34ab90;  1 drivers
v0x6318ba319d70_0 .net *"_ivl_167", 0 0, L_0x6318ba34aef0;  1 drivers
v0x6318ba319e50_0 .net *"_ivl_169", 0 0, L_0x6318ba34af90;  1 drivers
v0x6318ba319f10_0 .net *"_ivl_170", 0 0, L_0x6318ba34b210;  1 drivers
v0x6318ba319ff0_0 .net *"_ivl_172", 0 0, L_0x6318ba34b3b0;  1 drivers
v0x6318ba31a0d0_0 .net *"_ivl_175", 10 0, L_0x6318ba34b470;  1 drivers
L_0x7f7236c57378 .functor BUFT 1, C4<00100000010>, C4<0>, C4<0>, C4<0>;
v0x6318ba31a1b0_0 .net/2u *"_ivl_176", 10 0, L_0x7f7236c57378;  1 drivers
v0x6318ba31a290_0 .net *"_ivl_178", 0 0, L_0x6318ba34b510;  1 drivers
v0x6318ba31a350_0 .net *"_ivl_180", 0 0, L_0x6318ba34b840;  1 drivers
v0x6318ba31a430_0 .net *"_ivl_183", 0 0, L_0x6318ba34b9f0;  1 drivers
v0x6318ba31a510_0 .net *"_ivl_185", 0 0, L_0x6318ba34ba90;  1 drivers
L_0x7f7236c573c0 .functor BUFT 1, C4<00100101010>, C4<0>, C4<0>, C4<0>;
v0x6318ba31a5d0_0 .net/2u *"_ivl_188", 10 0, L_0x7f7236c573c0;  1 drivers
v0x6318ba31a6b0_0 .net *"_ivl_190", 0 0, L_0x6318ba34be90;  1 drivers
L_0x7f7236c57408 .functor BUFT 1, C4<00100101011>, C4<0>, C4<0>, C4<0>;
v0x6318ba31a770_0 .net/2u *"_ivl_192", 10 0, L_0x7f7236c57408;  1 drivers
v0x6318ba31a850_0 .net *"_ivl_194", 0 0, L_0x6318ba34bf80;  1 drivers
L_0x7f7236c57450 .functor BUFT 1, C4<00100101011>, C4<0>, C4<0>, C4<0>;
v0x6318ba31a910_0 .net/2u *"_ivl_198", 10 0, L_0x7f7236c57450;  1 drivers
v0x6318ba31a9f0_0 .net *"_ivl_203", 7 0, L_0x6318ba34c4e0;  1 drivers
L_0x7f7236c57498 .functor BUFT 1, C4<11110100>, C4<0>, C4<0>, C4<0>;
v0x6318ba31aad0_0 .net/2u *"_ivl_204", 7 0, L_0x7f7236c57498;  1 drivers
v0x6318ba31abb0_0 .net *"_ivl_208", 0 0, L_0x6318ba34c930;  1 drivers
v0x6318ba31ac90_0 .net *"_ivl_213", 0 0, L_0x6318ba34cb70;  1 drivers
v0x6318ba31ad50_0 .net *"_ivl_215", 3 0, L_0x6318ba34ce40;  1 drivers
L_0x7f7236c574e0 .functor BUFT 1, C4<1001>, C4<0>, C4<0>, C4<0>;
v0x6318ba31ae30_0 .net/2u *"_ivl_216", 3 0, L_0x7f7236c574e0;  1 drivers
v0x6318ba31af10_0 .net *"_ivl_218", 0 0, L_0x6318ba34cee0;  1 drivers
v0x6318ba31afd0_0 .net *"_ivl_223", 1 0, L_0x6318ba34d3c0;  1 drivers
L_0x7f7236c57528 .functor BUFT 1, C4<00>, C4<0>, C4<0>, C4<0>;
v0x6318ba31b0b0_0 .net/2u *"_ivl_224", 1 0, L_0x7f7236c57528;  1 drivers
v0x6318ba31b190_0 .net *"_ivl_226", 0 0, L_0x6318ba34d870;  1 drivers
v0x6318ba31b250_0 .net *"_ivl_228", 0 0, L_0x6318ba34dc00;  1 drivers
v0x6318ba31b330_0 .net *"_ivl_61", 0 0, L_0x6318ba337480;  1 drivers
L_0x7f7236c57060 .functor BUFT 1, C4<000>, C4<0>, C4<0>, C4<0>;
v0x6318ba31b3f0_0 .net/2u *"_ivl_62", 2 0, L_0x7f7236c57060;  1 drivers
v0x6318ba31b4d0_0 .net *"_ivl_65", 7 0, L_0x6318ba337570;  1 drivers
v0x6318ba31b5b0_0 .net *"_ivl_66", 10 0, L_0x6318ba337760;  1 drivers
v0x6318ba31b690_0 .net *"_ivl_68", 0 0, L_0x6318ba3378a0;  1 drivers
v0x6318ba31b750_0 .net *"_ivl_7", 1 0, L_0x6318ba3355c0;  1 drivers
L_0x7f7236c570a8 .functor BUFT 1, C4<00100101110>, C4<0>, C4<0>, C4<0>;
v0x6318ba31b830_0 .net/2u *"_ivl_72", 10 0, L_0x7f7236c570a8;  1 drivers
v0x6318ba31b910_0 .net *"_ivl_74", 0 0, L_0x6318ba347b50;  1 drivers
L_0x7f7236c570f0 .functor BUFT 1, C4<00100000000>, C4<0>, C4<0>, C4<0>;
v0x6318ba31b9d0_0 .net/2u *"_ivl_76", 10 0, L_0x7f7236c570f0;  1 drivers
v0x6318ba31bab0_0 .net *"_ivl_78", 0 0, L_0x6318ba347bf0;  1 drivers
v0x6318ba31bb70_0 .net *"_ivl_81", 0 0, L_0x6318ba347e50;  1 drivers
v0x6318ba31bc30_0 .net *"_ivl_83", 0 0, L_0x6318ba2fd3a0;  1 drivers
v0x6318ba31bcf0_0 .net *"_ivl_85", 0 0, L_0x6318ba347fe0;  1 drivers
v0x6318ba31bdd0_0 .net *"_ivl_87", 0 0, L_0x6318ba2fd5a0;  1 drivers
v0x6318ba31be90_0 .net *"_ivl_91", 1 0, L_0x6318ba348250;  1 drivers
L_0x7f7236c57138 .functor BUFT 1, C4<00>, C4<0>, C4<0>, C4<0>;
v0x6318ba31bf70_0 .net/2u *"_ivl_92", 1 0, L_0x7f7236c57138;  1 drivers
L_0x7f7236c57180 .functor BUFT 1, C4<00100000010>, C4<0>, C4<0>, C4<0>;
v0x6318ba31c050_0 .net/2u *"_ivl_96", 10 0, L_0x7f7236c57180;  1 drivers
v0x6318ba31c130_0 .net "a_sel", 2 0, L_0x6318ba3356e0;  alias, 1 drivers
v0x6318ba31c210_0 .var "addr", 10 0;
v0x6318ba31c2f0_0 .net "alu_op", 5 0, L_0x6318ba335870;  alias, 1 drivers
v0x6318ba31c3d0_0 .net "b_sel", 2 0, L_0x6318ba3359a0;  alias, 1 drivers
v0x6318ba31c4b0_0 .net "clk", 0 0, v0x6318ba331df0_0;  1 drivers
v0x6318ba31c570_0 .var "cur_instruction", 75 0;
v0x6318ba31c650_0 .var "current", 64 0;
v0x6318ba31c730_0 .net "debug_addr", 7 0, v0x6318ba331f60_0;  1 drivers
v0x6318ba31c810_0 .net "debug_run", 0 0, v0x6318ba332030_0;  1 drivers
v0x6318ba31c8d0_0 .net "debug_seize", 0 0, v0x6318ba332100_0;  1 drivers
v0x6318ba31c990_0 .net "debug_stopped", 0 0, L_0x6318ba3485c0;  alias, 1 drivers
v0x6318ba31ca50_0 .net "divide_error", 0 0, v0x6318ba332330_0;  1 drivers
v0x6318ba31cb10_0 .net "do_escape_fault", 0 0, L_0x6318ba349d00;  alias, 1 drivers
v0x6318ba31cbd0_0 .net "do_single_step", 0 0, L_0x6318ba34bd80;  1 drivers
v0x6318ba31cc90_0 .var "ext_int_inhibit", 0 0;
v0x6318ba31cd50_0 .net "ext_int_yield", 0 0, L_0x6318ba335a90;  alias, 1 drivers
v0x6318ba31ce10_0 .net "fifo_empty", 0 0, v0x6318ba332640_0;  1 drivers
v0x6318ba31ced0_0 .net "fifo_rd_en", 0 0, L_0x6318ba2fc2d0;  alias, 1 drivers
v0x6318ba31cf90_0 .net "fifo_resetting", 0 0, v0x6318ba3327e0_0;  1 drivers
v0x6318ba31d050_0 .net "fpu_busy", 0 0, v0x6318ba3328b0_0;  1 drivers
v0x6318ba31d110_0 .net "fpu_ctrl_wr", 0 0, L_0x6318ba337200;  alias, 1 drivers
o0x7f7236ca14e8 .functor BUFZ 1, C4<z>; HiZ drive
v0x6318ba31d1d0_0 .net "fpu_int", 0 0, o0x7f7236ca14e8;  0 drivers
v0x6318ba31d290_0 .net "has_rep_prefix", 0 0, L_0x6318ba348340;  1 drivers
v0x6318ba31d350_0 .net "int_enabled", 0 0, v0x6318ba332a50_0;  1 drivers
v0x6318ba31d410_0 .var "inta", 0 0;
v0x6318ba31d4d0_0 .net "intr", 0 0, v0x6318ba332bf0_0;  1 drivers
v0x6318ba31d590_0 .net "io", 0 0, L_0x6318ba335b80;  alias, 1 drivers
v0x6318ba31d650_0 .net "irq_to_mdr", 0 0, L_0x6318ba34b950;  alias, 1 drivers
v0x6318ba31d710_0 .net "is_hlt", 0 0, L_0x6318ba34c7a0;  alias, 1 drivers
v0x6318ba31d7d0_0 .net "jump_taken", 0 0, v0x6318ba332f30_0;  1 drivers
v0x6318ba31d890_0 .var "jump_target", 10 0;
v0x6318ba31d970_0 .net "load_ip", 0 0, L_0x6318ba335c70;  alias, 1 drivers
v0x6318ba31da30_0 .net "lock", 0 0, L_0x6318ba34df90;  alias, 1 drivers
v0x6318ba31daf0_0 .net "loop_done", 0 0, v0x6318ba3331a0_0;  1 drivers
v0x6318ba31dbb0_0 .net "loop_next", 0 0, L_0x6318ba34d260;  alias, 1 drivers
v0x6318ba31dc70_0 .net "mar_wr_sel", 0 0, L_0x6318ba335dc0;  alias, 1 drivers
v0x6318ba31dd30_0 .net "mar_write", 0 0, L_0x6318ba335e60;  alias, 1 drivers
v0x6318ba31ddf0_0 .net "mdr_write", 0 0, L_0x6318ba335fc0;  alias, 1 drivers
v0x6318ba31deb0 .array "mem", 1195 0, 64 0;
v0x6318ba32dfa0_0 .net "mem_read", 0 0, L_0x6318ba3360b0;  alias, 1 drivers
v0x6318ba32e060_0 .net "mem_write", 0 0, L_0x6318ba336220;  alias, 1 drivers
v0x6318ba32e120_0 .var "microcode_immediate", 15 0;
v0x6318ba32e200_0 .net "modrm_reg", 2 0, v0x6318ba333820_0;  1 drivers
v0x6318ba32e2e0_0 .net "modrm_start", 0 0, L_0x6318ba2fe0a0;  alias, 1 drivers
v0x6318ba32e3a0_0 .net "multibit_shift", 0 0, L_0x6318ba349500;  alias, 1 drivers
v0x6318ba32e460_0 .var "next_addr", 10 0;
v0x6318ba32e540_0 .net "next_instruction", 0 0, L_0x6318ba336310;  alias, 1 drivers
v0x6318ba32e600_0 .net "next_instruction_value", 75 0, v0x6318ba333b60_0;  1 drivers
v0x6318ba32e6e0_0 .net "next_microinstruction", 0 0, L_0x6318ba34dea0;  alias, 1 drivers
v0x6318ba32e7a0_0 .var "nmi_pending", 0 0;
v0x6318ba32e860_0 .net "nmi_pulse", 0 0, v0x6318ba333d00_0;  1 drivers
v0x6318ba32e920_0 .net "opcode", 7 0, L_0x6318ba335480;  alias, 1 drivers
v0x6318ba32ea00_0 .net "ra_modrm_rm_reg", 0 0, L_0x6318ba336490;  alias, 1 drivers
v0x6318ba32eac0_0 .net "ra_sel", 2 0, L_0x6318ba336580;  alias, 1 drivers
v0x6318ba32eba0_0 .net "rb_cl", 0 0, L_0x6318ba336710;  alias, 1 drivers
v0x6318ba32f470_0 .net "rb_zero", 0 0, v0x6318ba3341b0_0;  1 drivers
v0x6318ba32f530_0 .net "rd_sel", 2 0, L_0x6318ba336800;  alias, 1 drivers
v0x6318ba32f610_0 .net "rd_sel_source", 1 0, L_0x6318ba336670;  alias, 1 drivers
v0x6318ba32f6f0_0 .net "reg_wr_en", 0 0, L_0x6318ba34dd40;  alias, 1 drivers
v0x6318ba32f7b0_0 .net "reg_wr_source", 1 0, L_0x6318ba3369f0;  alias, 1 drivers
v0x6318ba32f890_0 .var "rep_complete", 0 0;
v0x6318ba32f950_0 .net "reset", 0 0, v0x6318ba3345c0_0;  1 drivers
v0x6318ba32fa10_0 .net "rm_is_reg", 0 0, v0x6318ba334690_0;  1 drivers
v0x6318ba32fad0_0 .net "segment", 1 0, L_0x6318ba336ba0;  alias, 1 drivers
v0x6318ba32fbb0_0 .net "segment_force", 0 0, L_0x6318ba336c90;  alias, 1 drivers
v0x6318ba32fc70_0 .net "segment_wr_en", 0 0, L_0x6318ba336e50;  alias, 1 drivers
v0x6318ba32fd30_0 .var "seized", 0 0;
v0x6318ba32fdf0_0 .net "seizing", 0 0, L_0x6318ba34c9a0;  1 drivers
v0x6318ba32feb0_0 .net "stall", 0 0, v0x6318ba3349d0_0;  1 drivers
v0x6318ba32ff70_0 .net "start_interrupt", 0 0, L_0x6318ba34c230;  alias, 1 drivers
v0x6318ba330030_0 .net "starting_instruction", 0 0, L_0x6318ba2fc4d0;  alias, 1 drivers
v0x6318ba3300f0_0 .net "take_irq", 0 0, L_0x6318ba34a530;  1 drivers
v0x6318ba3301b0_0 .net "take_nmi", 0 0, L_0x6318ba34a420;  1 drivers
v0x6318ba330270_0 .net "tf", 0 0, v0x6318ba334ce0_0;  1 drivers
v0x6318ba330330_0 .net "tmp_wr_en", 0 0, L_0x6318ba336f40;  alias, 1 drivers
v0x6318ba3303f0_0 .net "tmp_wr_sel", 0 0, L_0x6318ba337110;  alias, 1 drivers
v0x6318ba3304b0_0 .var "trap_flag_set", 0 0;
v0x6318ba330570_0 .var "update_flags", 8 0;
v0x6318ba330650_0 .net "use_microcode_immediate", 0 0, L_0x6318ba335390;  alias, 1 drivers
v0x6318ba330710_0 .var "width", 0 0;
v0x6318ba3307d0_0 .net "zf", 0 0, v0x6318ba3351c0_0;  1 drivers
E_0x6318ba226010/0 .event anyedge, v0x6318ba32f950_0, v0x6318ba32feb0_0, v0x6318ba31c210_0, v0x6318ba31c650_0;
E_0x6318ba226010/1 .event anyedge, v0x6318ba32fdf0_0, v0x6318ba3301b0_0, v0x6318ba3300f0_0, v0x6318ba31ce10_0;
E_0x6318ba226010/2 .event anyedge, v0x6318ba31cf90_0, v0x6318ba32e600_0, v0x6318ba31c650_0, v0x6318ba31d890_0;
E_0x6318ba226010/3 .event anyedge, v0x6318ba31ca50_0, v0x6318ba31c650_0, v0x6318ba31cbd0_0, v0x6318ba31d710_0;
E_0x6318ba226010/4 .event anyedge, v0x6318ba3304b0_0, v0x6318ba31c8d0_0, v0x6318ba31d4d0_0, v0x6318ba32e600_0;
E_0x6318ba226010/5 .event anyedge, v0x6318ba32e600_0, v0x6318ba31c650_0;
E_0x6318ba226010 .event/or E_0x6318ba226010/0, E_0x6318ba226010/1, E_0x6318ba226010/2, E_0x6318ba226010/3, E_0x6318ba226010/4, E_0x6318ba226010/5;
E_0x6318ba25be40/0 .event anyedge, v0x6318ba31c650_0, v0x6318ba31c650_0, v0x6318ba32fa10_0, v0x6318ba31ce10_0;
E_0x6318ba25be40/1 .event anyedge, v0x6318ba32e600_0, v0x6318ba31c210_0, v0x6318ba32e200_0, v0x6318ba31d290_0;
E_0x6318ba25be40/2 .event anyedge, v0x6318ba3307d0_0, v0x6318ba32f890_0, v0x6318ba32f470_0, v0x6318ba31daf0_0;
E_0x6318ba25be40/3 .event anyedge, v0x6318ba31d7d0_0, v0x6318ba31d050_0, v0x6318ba31d1d0_0;
E_0x6318ba25be40 .event/or E_0x6318ba25be40/0, E_0x6318ba25be40/1, E_0x6318ba25be40/2, E_0x6318ba25be40/3;
E_0x6318ba1994c0 .event posedge, v0x6318ba32f950_0, v0x6318ba31c4b0_0;
E_0x6318ba305170 .event anyedge, v0x6318ba31c570_0, v0x6318ba3307d0_0;
E_0x6318ba3051b0 .event anyedge, v0x6318ba31c650_0, v0x6318ba31c570_0;
E_0x6318ba318300 .event anyedge, v0x6318ba31c650_0;
L_0x6318ba335290 .part v0x6318ba31c650_0, 37, 4;
L_0x6318ba335390 .reduce/or L_0x6318ba335290;
L_0x6318ba335480 .part v0x6318ba31c570_0, 0, 8;
L_0x6318ba3355c0 .part v0x6318ba31c650_0, 52, 2;
L_0x6318ba3356e0 .concat [ 2 1 0 0], L_0x6318ba3355c0, L_0x7f7236c57018;
L_0x6318ba335870 .part v0x6318ba31c650_0, 46, 6;
L_0x6318ba3359a0 .part v0x6318ba31c650_0, 43, 3;
L_0x6318ba335a90 .part v0x6318ba31c650_0, 41, 1;
L_0x6318ba335b80 .part v0x6318ba31c650_0, 36, 1;
L_0x6318ba335c70 .part v0x6318ba31c650_0, 31, 1;
L_0x6318ba335dc0 .part v0x6318ba31c650_0, 30, 1;
L_0x6318ba335e60 .part v0x6318ba31c650_0, 29, 1;
L_0x6318ba335fc0 .part v0x6318ba31c650_0, 28, 1;
L_0x6318ba3360b0 .part v0x6318ba31c650_0, 27, 1;
L_0x6318ba336220 .part v0x6318ba31c650_0, 26, 1;
L_0x6318ba336310 .part v0x6318ba31c650_0, 25, 1;
L_0x6318ba336490 .part v0x6318ba31c650_0, 24, 1;
L_0x6318ba336580 .part v0x6318ba31c650_0, 21, 3;
L_0x6318ba336710 .part v0x6318ba31c650_0, 20, 1;
L_0x6318ba336800 .part v0x6318ba31c650_0, 17, 3;
L_0x6318ba336670 .part v0x6318ba31c650_0, 15, 2;
L_0x6318ba3369f0 .part v0x6318ba31c650_0, 13, 2;
L_0x6318ba336ba0 .part v0x6318ba31c650_0, 11, 2;
L_0x6318ba336c90 .part v0x6318ba31c650_0, 10, 1;
L_0x6318ba336e50 .part v0x6318ba31c650_0, 9, 1;
L_0x6318ba336f40 .part v0x6318ba31c650_0, 8, 1;
L_0x6318ba337110 .part v0x6318ba31c650_0, 7, 1;
L_0x6318ba337200 .part v0x6318ba31c650_0, 6, 1;
L_0x6318ba337480 .reduce/nor v0x6318ba3349d0_0;
L_0x6318ba337570 .part v0x6318ba333b60_0, 0, 8;
L_0x6318ba337760 .concat [ 8 3 0 0], L_0x6318ba337570, L_0x7f7236c57060;
L_0x6318ba3378a0 .cmp/eq 11, v0x6318ba32e460_0, L_0x6318ba337760;
L_0x6318ba347b50 .cmp/eq 11, v0x6318ba31c210_0, L_0x7f7236c570a8;
L_0x6318ba347bf0 .cmp/eq 11, v0x6318ba31c210_0, L_0x7f7236c570f0;
L_0x6318ba347e50 .reduce/nor v0x6318ba332640_0;
L_0x6318ba347fe0 .part v0x6318ba333b60_0, 64, 1;
L_0x6318ba348250 .part v0x6318ba31c570_0, 68, 2;
L_0x6318ba348340 .cmp/ne 2, L_0x6318ba348250, L_0x7f7236c57138;
L_0x6318ba3485c0 .cmp/eq 11, v0x6318ba31c210_0, L_0x7f7236c57180;
L_0x6318ba348700 .part v0x6318ba31c570_0, 0, 8;
L_0x6318ba3488f0 .cmp/eq 8, L_0x6318ba348700, L_0x7f7236c571c8;
L_0x6318ba3489e0 .part v0x6318ba31c570_0, 0, 8;
L_0x6318ba348be0 .cmp/eq 8, L_0x6318ba3489e0, L_0x7f7236c57210;
L_0x6318ba348e00 .part v0x6318ba31c570_0, 0, 8;
L_0x6318ba349010 .cmp/eq 8, L_0x6318ba348e00, L_0x7f7236c57258;
L_0x6318ba3491a0 .part v0x6318ba31c570_0, 0, 8;
L_0x6318ba3493c0 .cmp/eq 8, L_0x6318ba3491a0, L_0x7f7236c572a0;
L_0x6318ba3496b0 .part v0x6318ba31c570_0, 3, 5;
L_0x6318ba3498e0 .cmp/eq 5, L_0x6318ba3496b0, L_0x7f7236c572e8;
L_0x6318ba349a20 .cmp/eq 11, v0x6318ba32e460_0, L_0x7f7236c57330;
L_0x6318ba349f80 .reduce/nor v0x6318ba31cc90_0;
L_0x6318ba34a0e0 .part v0x6318ba31c650_0, 42, 1;
L_0x6318ba34a330 .reduce/nor L_0x6318ba34a0e0;
L_0x6318ba34a6b0 .reduce/nor v0x6318ba31cc90_0;
L_0x6318ba34aaf0 .part v0x6318ba31c650_0, 42, 1;
L_0x6318ba34ab90 .reduce/nor L_0x6318ba34aaf0;
L_0x6318ba34aef0 .part v0x6318ba31c650_0, 25, 1;
L_0x6318ba34af90 .reduce/nor v0x6318ba31cc90_0;
L_0x6318ba34b470 .part v0x6318ba31c650_0, 54, 11;
L_0x6318ba34b510 .cmp/ne 11, L_0x6318ba34b470, L_0x7f7236c57378;
L_0x6318ba34b9f0 .part v0x6318ba31c650_0, 42, 1;
L_0x6318ba34ba90 .reduce/nor L_0x6318ba34b9f0;
L_0x6318ba34be90 .cmp/eq 11, v0x6318ba32e460_0, L_0x7f7236c573c0;
L_0x6318ba34bf80 .cmp/eq 11, v0x6318ba32e460_0, L_0x7f7236c57408;
L_0x6318ba34b950 .cmp/eq 11, v0x6318ba32e460_0, L_0x7f7236c57450;
L_0x6318ba34c4e0 .part v0x6318ba31c570_0, 0, 8;
L_0x6318ba34c7a0 .cmp/eq 8, L_0x6318ba34c4e0, L_0x7f7236c57498;
L_0x6318ba34cb70 .reduce/nor v0x6318ba3349d0_0;
L_0x6318ba34ce40 .part v0x6318ba31c650_0, 32, 4;
L_0x6318ba34cee0 .cmp/eq 4, L_0x6318ba34ce40, L_0x7f7236c574e0;
L_0x6318ba34d3c0 .part v0x6318ba31c650_0, 15, 2;
L_0x6318ba34d870 .cmp/ne 2, L_0x6318ba34d3c0, L_0x7f7236c57528;
L_0x6318ba34dea0 .cmp/ne 11, v0x6318ba31c210_0, v0x6318ba32e460_0;
L_0x6318ba34df90 .part v0x6318ba31c570_0, 70, 1;
S_0x6318ba2821f0 .scope task, "handle_nmi_interrupt" "handle_nmi_interrupt" 3 258, 3 258 0, S_0x6318ba281990;
 .timescale -9 -12;
v0x6318ba3310d0_0 .var "nmi_handled", 0 0;
v0x6318ba3311b0_0 .var/i "nmi_timeout", 31 0;
v0x6318ba331290_0 .var/i "settle_count", 31 0;
TD_microcode_tb.handle_nmi_interrupt ;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x6318ba3310d0_0, 0, 1;
    %pushi/vec4 0, 0, 32;
    %store/vec4 v0x6318ba3311b0_0, 0, 32;
    %vpi_call/w 3 266 "$display", "  [INT] Handling interrupt with IRET..." {0 0 0};
T_3.4 ;
    %load/vec4 v0x6318ba3310d0_0;
    %nor/r;
    %flag_set/vec4 9;
    %flag_get/vec4 9;
    %jmp/0 T_3.6, 9;
    %load/vec4 v0x6318ba3311b0_0;
    %cmpi/s 200, 0, 32;
    %flag_get/vec4 5;
    %and;
T_3.6;
    %flag_set/vec4 8;
    %jmp/0xz T_3.5, 8;
    %wait E_0x6318ba217700;
    %load/vec4 v0x6318ba3311b0_0;
    %addi 1, 0, 32;
    %store/vec4 v0x6318ba3311b0_0, 0, 32;
    %load/vec4 v0x6318ba332710_0;
    %flag_set/vec4 9;
    %flag_get/vec4 9;
    %jmp/0 T_3.9, 9;
    %load/vec4 v0x6318ba332640_0;
    %nor/r;
    %and;
T_3.9;
    %flag_set/vec4 8;
    %jmp/0xz  T_3.7, 8;
    %load/vec4 v0x6318ba3311b0_0;
    %cmpi/s 10, 0, 32;
    %flag_or 5, 4; GT is !LE
    %flag_inv 5;
    %flag_get/vec4 5;
    %jmp/0 T_3.12, 5;
    %load/vec4 v0x6318ba3311b0_0;
    %cmpi/s 50, 0, 32;
    %flag_get/vec4 5;
    %and;
T_3.12;
    %flag_set/vec4 8;
    %jmp/0xz  T_3.10, 8;
    %vpi_call/w 3 286 "$display", "  [INT] Providing IRET instruction at cycle %0d", v0x6318ba3311b0_0 {0 0 0};
    %pushi/vec4 207, 0, 8;
    %ix/load 4, 0, 0;
    %flag_set/imm 4, 0;
    %store/vec4 v0x6318ba333b60_0, 4, 8;
    %pushi/vec4 0, 0, 1;
    %ix/load 4, 64, 0;
    %flag_set/imm 4, 0;
    %store/vec4 v0x6318ba333b60_0, 4, 1;
    %pushi/vec4 0, 0, 1;
    %ix/load 4, 75, 0;
    %flag_set/imm 4, 0;
    %store/vec4 v0x6318ba333b60_0, 4, 1;
    %pushi/vec4 0, 0, 2;
    %ix/load 4, 68, 0;
    %flag_set/imm 4, 0;
    %store/vec4 v0x6318ba333b60_0, 4, 2;
    %pushi/vec4 0, 0, 1;
    %ix/load 4, 70, 0;
    %flag_set/imm 4, 0;
    %store/vec4 v0x6318ba333b60_0, 4, 1;
    %pushi/vec4 0, 0, 1;
    %ix/load 4, 65, 0;
    %flag_set/imm 4, 0;
    %store/vec4 v0x6318ba333b60_0, 4, 1;
    %pushi/vec4 0, 0, 2;
    %ix/load 4, 66, 0;
    %flag_set/imm 4, 0;
    %store/vec4 v0x6318ba333b60_0, 4, 2;
    %pushi/vec4 192, 0, 8;
    %ix/load 4, 8, 0;
    %flag_set/imm 4, 0;
    %store/vec4 v0x6318ba333b60_0, 4, 8;
    %pushi/vec4 0, 0, 16;
    %ix/load 4, 16, 0;
    %flag_set/imm 4, 0;
    %store/vec4 v0x6318ba333b60_0, 4, 16;
    %pushi/vec4 0, 0, 16;
    %ix/load 4, 32, 0;
    %flag_set/imm 4, 0;
    %store/vec4 v0x6318ba333b60_0, 4, 16;
    %pushi/vec4 0, 0, 16;
    %ix/load 4, 48, 0;
    %flag_set/imm 4, 0;
    %store/vec4 v0x6318ba333b60_0, 4, 16;
    %pushi/vec4 1, 0, 4;
    %ix/load 4, 71, 0;
    %flag_set/imm 4, 0;
    %store/vec4 v0x6318ba333b60_0, 4, 4;
T_3.10 ;
T_3.7 ;
    %load/vec4 v0x6318ba333a90_0;
    %flag_set/vec4 9;
    %flag_get/vec4 9;
    %jmp/0 T_3.15, 9;
    %pushi/vec4 50, 0, 32;
    %load/vec4 v0x6318ba3311b0_0;
    %cmp/s;
    %flag_get/vec4 5;
    %and;
T_3.15;
    %flag_set/vec4 8;
    %jmp/0xz  T_3.13, 8;
    %vpi_call/w 3 305 "$display", "  [INT] Interrupt handler completed at cycle %0d", v0x6318ba3311b0_0 {0 0 0};
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x6318ba3310d0_0, 0, 1;
T_3.13 ;
    %jmp T_3.4;
T_3.5 ;
    %load/vec4 v0x6318ba3310d0_0;
    %nor/r;
    %flag_set/vec4 8;
    %jmp/0xz  T_3.16, 8;
    %vpi_call/w 3 311 "$display", "  [INT] WARNING: Interrupt handling may not have completed after %0d cycles", v0x6318ba3311b0_0 {0 0 0};
T_3.16 ;
    %pushi/vec4 0, 0, 32;
    %store/vec4 v0x6318ba331290_0, 0, 32;
T_3.18 ;
    %load/vec4 v0x6318ba334b70_0;
    %flag_set/vec4 9;
    %jmp/1 T_3.21, 9;
    %load/vec4 v0x6318ba332710_0;
    %flag_set/vec4 10;
    %flag_or 9, 10;
T_3.21;
    %flag_get/vec4 9;
    %jmp/0 T_3.20, 9;
    %load/vec4 v0x6318ba331290_0;
    %cmpi/s 20, 0, 32;
    %flag_get/vec4 5;
    %and;
T_3.20;
    %flag_set/vec4 8;
    %jmp/0xz T_3.19, 8;
    %wait E_0x6318ba217700;
    %load/vec4 v0x6318ba331290_0;
    %addi 1, 0, 32;
    %store/vec4 v0x6318ba331290_0, 0, 32;
    %jmp T_3.18;
T_3.19 ;
    %pushi/vec4 5, 0, 32;
T_3.22 %dup/vec4;
    %pushi/vec4 0, 0, 32;
    %cmp/s;
    %jmp/1xz T_3.23, 5;
    %jmp/1 T_3.23, 4;
    %pushi/vec4 1, 0, 32;
    %sub;
    %wait E_0x6318ba217700;
    %jmp T_3.22;
T_3.23 ;
    %pop/vec4 1;
    %vpi_call/w 3 324 "$display", "  [INT] Sequencer settled, ready for next test" {0 0 0};
    %end;
S_0x6318ba281e90 .scope task, "wait_for_instruction_start" "wait_for_instruction_start" 3 357, 3 357 0, S_0x6318ba281990;
 .timescale -9 -12;
v0x6318ba3313a0_0 .var/i "timeout", 31 0;
TD_microcode_tb.wait_for_instruction_start ;
    %pushi/vec4 0, 0, 32;
    %store/vec4 v0x6318ba3313a0_0, 0, 32;
    %vpi_call/w 3 361 "$display", "  [DEBUG] Waiting for starting_instruction..." {0 0 0};
    %vpi_call/w 3 362 "$display", "  [DEBUG]   Initial: start=%b next=%b fifo_rd=%b empty=%b opcode=0x%02h", v0x6318ba334b70_0, v0x6318ba333a90_0, v0x6318ba332710_0, v0x6318ba332640_0, v0x6318ba333dd0_0 {0 0 0};
T_4.24 ;
    %load/vec4 v0x6318ba334b70_0;
    %nor/r;
    %flag_set/vec4 9;
    %flag_get/vec4 9;
    %jmp/0 T_4.26, 9;
    %load/vec4 v0x6318ba3313a0_0;
    %cmpi/s 100, 0, 32;
    %flag_get/vec4 5;
    %and;
T_4.26;
    %flag_set/vec4 8;
    %jmp/0xz T_4.25, 8;
    %wait E_0x6318ba217700;
    %load/vec4 v0x6318ba3313a0_0;
    %addi 1, 0, 32;
    %store/vec4 v0x6318ba3313a0_0, 0, 32;
    %load/vec4 v0x6318ba3313a0_0;
    %pushi/vec4 10, 0, 32;
    %mod/s;
    %cmpi/e 0, 0, 32;
    %jmp/0xz  T_4.27, 4;
    %vpi_call/w 3 371 "$display", "  [DEBUG]   Cycle %3d: start=%b next=%b fifo_rd=%b empty=%b cur_op=0x%02h next_op=0x%02h", v0x6318ba3313a0_0, v0x6318ba334b70_0, v0x6318ba333a90_0, v0x6318ba332710_0, v0x6318ba332640_0, &PV<v0x6318ba331ec0_0, 0, 8>, &PV<v0x6318ba333b60_0, 0, 8> {0 0 0};
T_4.27 ;
    %jmp T_4.24;
T_4.25 ;
    %load/vec4 v0x6318ba334b70_0;
    %flag_set/vec4 8;
    %jmp/0xz  T_4.29, 8;
    %vpi_call/w 3 378 "$display", "  [DEBUG] Starting instruction after %0d cycles!", v0x6318ba3313a0_0 {0 0 0};
    %jmp T_4.30;
T_4.29 ;
    %vpi_call/w 3 380 "$display", "  [DEBUG] ERROR: Timeout waiting for starting_instruction after %0d cycles", v0x6318ba3313a0_0 {0 0 0};
    %vpi_call/w 3 381 "$display", "  [DEBUG]   Final state: start=%b next=%b fifo_rd=%b empty=%b", v0x6318ba334b70_0, v0x6318ba333a90_0, v0x6318ba332710_0, v0x6318ba332640_0 {0 0 0};
T_4.30 ;
    %end;
S_0x6318ba3314a0 .scope task, "wait_for_instruction_start_with_opcode" "wait_for_instruction_start_with_opcode" 3 329, 3 329 0, S_0x6318ba281990;
 .timescale -9 -12;
v0x6318ba331680_0 .var "expected_opcode", 7 0;
v0x6318ba331780_0 .var/i "timeout", 31 0;
TD_microcode_tb.wait_for_instruction_start_with_opcode ;
    %pushi/vec4 0, 0, 32;
    %store/vec4 v0x6318ba331780_0, 0, 32;
    %vpi_call/w 3 334 "$display", "  [DEBUG] Waiting for opcode 0x%02h to start...", v0x6318ba331680_0 {0 0 0};
T_5.31 ;
    %load/vec4 v0x6318ba334b70_0;
    %flag_set/vec4 10;
    %flag_get/vec4 10;
    %jmp/0 T_5.34, 10;
    %load/vec4 v0x6318ba333b60_0;
    %parti/u 8, 0, 32;
    %load/vec4 v0x6318ba331680_0;
    %cmp/e;
    %flag_get/vec4 4;
    %and;
T_5.34;
    %nor/r;
    %flag_set/vec4 9;
    %flag_get/vec4 9;
    %jmp/0 T_5.33, 9;
    %load/vec4 v0x6318ba331780_0;
    %cmpi/s 100, 0, 32;
    %flag_get/vec4 5;
    %and;
T_5.33;
    %flag_set/vec4 8;
    %jmp/0xz T_5.32, 8;
    %wait E_0x6318ba217700;
    %load/vec4 v0x6318ba331780_0;
    %addi 1, 0, 32;
    %store/vec4 v0x6318ba331780_0, 0, 32;
    %load/vec4 v0x6318ba331780_0;
    %pushi/vec4 10, 0, 32;
    %mod/s;
    %cmpi/e 0, 0, 32;
    %jmp/0xz  T_5.35, 4;
    %vpi_call/w 3 343 "$display", "  [DEBUG]   Cycle %3d: start=%b next_op=0x%02h (expect 0x%02h)", v0x6318ba331780_0, v0x6318ba334b70_0, &PV<v0x6318ba333b60_0, 0, 8>, v0x6318ba331680_0 {0 0 0};
T_5.35 ;
    %jmp T_5.31;
T_5.32 ;
    %load/vec4 v0x6318ba334b70_0;
    %flag_set/vec4 9;
    %flag_get/vec4 9;
    %jmp/0 T_5.39, 9;
    %load/vec4 v0x6318ba333b60_0;
    %parti/u 8, 0, 32;
    %load/vec4 v0x6318ba331680_0;
    %cmp/e;
    %flag_get/vec4 4;
    %and;
T_5.39;
    %flag_set/vec4 8;
    %jmp/0xz  T_5.37, 8;
    %vpi_call/w 3 349 "$display", "  [DEBUG] Instruction 0x%02h starting after %0d cycles!", v0x6318ba331680_0, v0x6318ba331780_0 {0 0 0};
    %jmp T_5.38;
T_5.37 ;
    %vpi_call/w 3 351 "$display", "  [DEBUG] ERROR: Timeout waiting for opcode 0x%02h after %0d cycles", v0x6318ba331680_0, v0x6318ba331780_0 {0 0 0};
T_5.38 ;
    %end;
S_0x6318ba331860 .scope task, "wait_for_sequencer_settle" "wait_for_sequencer_settle" 3 246, 3 246 0, S_0x6318ba281990;
 .timescale -9 -12;
v0x6318ba331a40_0 .var/i "timeout", 31 0;
TD_microcode_tb.wait_for_sequencer_settle ;
    %pushi/vec4 0, 0, 32;
    %store/vec4 v0x6318ba331a40_0, 0, 32;
T_6.40 ;
    %load/vec4 v0x6318ba334b70_0;
    %flag_set/vec4 9;
    %flag_get/vec4 9;
    %jmp/0 T_6.42, 9;
    %load/vec4 v0x6318ba331a40_0;
    %cmpi/s 10, 0, 32;
    %flag_get/vec4 5;
    %and;
T_6.42;
    %flag_set/vec4 8;
    %jmp/0xz T_6.41, 8;
    %wait E_0x6318ba217700;
    %load/vec4 v0x6318ba331a40_0;
    %addi 1, 0, 32;
    %store/vec4 v0x6318ba331a40_0, 0, 32;
    %jmp T_6.40;
T_6.41 ;
    %end;
    .scope S_0x6318ba281490;
T_7 ;
Ewait_0 .event/or E_0x6318ba318300, E_0x0;
    %wait Ewait_0;
    %load/vec4 v0x6318ba31c650_0;
    %parti/u 4, 37, 32;
    %dup/vec4;
    %pushi/vec4 1, 0, 4;
    %cmp/u;
    %jmp/1 T_7.0, 6;
    %dup/vec4;
    %pushi/vec4 2, 0, 4;
    %cmp/u;
    %jmp/1 T_7.1, 6;
    %dup/vec4;
    %pushi/vec4 3, 0, 4;
    %cmp/u;
    %jmp/1 T_7.2, 6;
    %dup/vec4;
    %pushi/vec4 4, 0, 4;
    %cmp/u;
    %jmp/1 T_7.3, 6;
    %dup/vec4;
    %pushi/vec4 5, 0, 4;
    %cmp/u;
    %jmp/1 T_7.4, 6;
    %dup/vec4;
    %pushi/vec4 6, 0, 4;
    %cmp/u;
    %jmp/1 T_7.5, 6;
    %dup/vec4;
    %pushi/vec4 7, 0, 4;
    %cmp/u;
    %jmp/1 T_7.6, 6;
    %dup/vec4;
    %pushi/vec4 8, 0, 4;
    %cmp/u;
    %jmp/1 T_7.7, 6;
    %dup/vec4;
    %pushi/vec4 9, 0, 4;
    %cmp/u;
    %jmp/1 T_7.8, 6;
    %dup/vec4;
    %pushi/vec4 10, 0, 4;
    %cmp/u;
    %jmp/1 T_7.9, 6;
    %dup/vec4;
    %pushi/vec4 11, 0, 4;
    %cmp/u;
    %jmp/1 T_7.10, 6;
    %dup/vec4;
    %pushi/vec4 12, 0, 4;
    %cmp/u;
    %jmp/1 T_7.11, 6;
    %pushi/vec4 0, 0, 16;
    %store/vec4 v0x6318ba32e120_0, 0, 16;
    %jmp T_7.13;
T_7.0 ;
    %pushi/vec4 0, 0, 16;
    %store/vec4 v0x6318ba32e120_0, 0, 16;
    %jmp T_7.13;
T_7.1 ;
    %pushi/vec4 24, 0, 16;
    %store/vec4 v0x6318ba32e120_0, 0, 16;
    %jmp T_7.13;
T_7.2 ;
    %pushi/vec4 2, 0, 16;
    %store/vec4 v0x6318ba32e120_0, 0, 16;
    %jmp T_7.13;
T_7.3 ;
    %pushi/vec4 20, 0, 16;
    %store/vec4 v0x6318ba32e120_0, 0, 16;
    %jmp T_7.13;
T_7.4 ;
    %pushi/vec4 1, 0, 16;
    %store/vec4 v0x6318ba32e120_0, 0, 16;
    %jmp T_7.13;
T_7.5 ;
    %pushi/vec4 28, 0, 16;
    %store/vec4 v0x6318ba32e120_0, 0, 16;
    %jmp T_7.13;
T_7.6 ;
    %pushi/vec4 65535, 0, 16;
    %store/vec4 v0x6318ba32e120_0, 0, 16;
    %jmp T_7.13;
T_7.7 ;
    %pushi/vec4 12, 0, 16;
    %store/vec4 v0x6318ba32e120_0, 0, 16;
    %jmp T_7.13;
T_7.8 ;
    %pushi/vec4 255, 0, 16;
    %store/vec4 v0x6318ba32e120_0, 0, 16;
    %jmp T_7.13;
T_7.9 ;
    %pushi/vec4 4, 0, 16;
    %store/vec4 v0x6318ba32e120_0, 0, 16;
    %jmp T_7.13;
T_7.10 ;
    %pushi/vec4 16, 0, 16;
    %store/vec4 v0x6318ba32e120_0, 0, 16;
    %jmp T_7.13;
T_7.11 ;
    %pushi/vec4 8, 0, 16;
    %store/vec4 v0x6318ba32e120_0, 0, 16;
    %jmp T_7.13;
T_7.13 ;
    %pop/vec4 1;
    %jmp T_7;
    .thread T_7, $push;
    .scope S_0x6318ba281490;
T_8 ;
Ewait_1 .event/or E_0x6318ba318300, E_0x0;
    %wait Ewait_1;
    %load/vec4 v0x6318ba31c650_0;
    %parti/u 4, 2, 32;
    %dup/vec4;
    %pushi/vec4 0, 0, 4;
    %cmp/u;
    %jmp/1 T_8.0, 6;
    %dup/vec4;
    %pushi/vec4 1, 0, 4;
    %cmp/u;
    %jmp/1 T_8.1, 6;
    %dup/vec4;
    %pushi/vec4 2, 0, 4;
    %cmp/u;
    %jmp/1 T_8.2, 6;
    %dup/vec4;
    %pushi/vec4 3, 0, 4;
    %cmp/u;
    %jmp/1 T_8.3, 6;
    %dup/vec4;
    %pushi/vec4 4, 0, 4;
    %cmp/u;
    %jmp/1 T_8.4, 6;
    %dup/vec4;
    %pushi/vec4 5, 0, 4;
    %cmp/u;
    %jmp/1 T_8.5, 6;
    %dup/vec4;
    %pushi/vec4 6, 0, 4;
    %cmp/u;
    %jmp/1 T_8.6, 6;
    %dup/vec4;
    %pushi/vec4 7, 0, 4;
    %cmp/u;
    %jmp/1 T_8.7, 6;
    %dup/vec4;
    %pushi/vec4 8, 0, 4;
    %cmp/u;
    %jmp/1 T_8.8, 6;
    %dup/vec4;
    %pushi/vec4 9, 0, 4;
    %cmp/u;
    %jmp/1 T_8.9, 6;
    %dup/vec4;
    %pushi/vec4 10, 0, 4;
    %cmp/u;
    %jmp/1 T_8.10, 6;
    %dup/vec4;
    %pushi/vec4 11, 0, 4;
    %cmp/u;
    %jmp/1 T_8.11, 6;
    %dup/vec4;
    %pushi/vec4 12, 0, 4;
    %cmp/u;
    %jmp/1 T_8.12, 6;
    %dup/vec4;
    %pushi/vec4 13, 0, 4;
    %cmp/u;
    %jmp/1 T_8.13, 6;
    %dup/vec4;
    %pushi/vec4 14, 0, 4;
    %cmp/u;
    %jmp/1 T_8.14, 6;
    %pushi/vec4 0, 0, 9;
    %store/vec4 v0x6318ba330570_0, 0, 9;
    %jmp T_8.16;
T_8.0 ;
    %pushi/vec4 0, 0, 9;
    %store/vec4 v0x6318ba330570_0, 0, 9;
    %jmp T_8.16;
T_8.1 ;
    %pushi/vec4 5, 0, 9;
    %store/vec4 v0x6318ba330570_0, 0, 9;
    %jmp T_8.16;
T_8.2 ;
    %pushi/vec4 26, 0, 9;
    %store/vec4 v0x6318ba330570_0, 0, 9;
    %jmp T_8.16;
T_8.3 ;
    %pushi/vec4 287, 0, 9;
    %store/vec4 v0x6318ba330570_0, 0, 9;
    %jmp T_8.16;
T_8.4 ;
    %pushi/vec4 283, 0, 9;
    %store/vec4 v0x6318ba330570_0, 0, 9;
    %jmp T_8.16;
T_8.5 ;
    %pushi/vec4 1, 0, 9;
    %store/vec4 v0x6318ba330570_0, 0, 9;
    %jmp T_8.16;
T_8.6 ;
    %pushi/vec4 31, 0, 9;
    %store/vec4 v0x6318ba330570_0, 0, 9;
    %jmp T_8.16;
T_8.7 ;
    %pushi/vec4 64, 0, 9;
    %store/vec4 v0x6318ba330570_0, 0, 9;
    %jmp T_8.16;
T_8.8 ;
    %pushi/vec4 128, 0, 9;
    %store/vec4 v0x6318ba330570_0, 0, 9;
    %jmp T_8.16;
T_8.9 ;
    %pushi/vec4 286, 0, 9;
    %store/vec4 v0x6318ba330570_0, 0, 9;
    %jmp T_8.16;
T_8.10 ;
    %pushi/vec4 96, 0, 9;
    %store/vec4 v0x6318ba330570_0, 0, 9;
    %jmp T_8.16;
T_8.11 ;
    %pushi/vec4 265, 0, 9;
    %store/vec4 v0x6318ba330570_0, 0, 9;
    %jmp T_8.16;
T_8.12 ;
    %pushi/vec4 511, 0, 9;
    %store/vec4 v0x6318ba330570_0, 0, 9;
    %jmp T_8.16;
T_8.13 ;
    %pushi/vec4 257, 0, 9;
    %store/vec4 v0x6318ba330570_0, 0, 9;
    %jmp T_8.16;
T_8.14 ;
    %pushi/vec4 27, 0, 9;
    %store/vec4 v0x6318ba330570_0, 0, 9;
    %jmp T_8.16;
T_8.16 ;
    %pop/vec4 1;
    %jmp T_8;
    .thread T_8, $push;
    .scope S_0x6318ba281490;
T_9 ;
Ewait_2 .event/or E_0x6318ba3051b0, E_0x0;
    %wait Ewait_2;
    %load/vec4 v0x6318ba31c650_0;
    %parti/u 2, 0, 32;
    %dup/vec4;
    %pushi/vec4 1, 0, 2;
    %cmp/u;
    %jmp/1 T_9.0, 6;
    %dup/vec4;
    %pushi/vec4 0, 0, 2;
    %cmp/u;
    %jmp/1 T_9.1, 6;
    %dup/vec4;
    %pushi/vec4 2, 0, 2;
    %cmp/u;
    %jmp/1 T_9.2, 6;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x6318ba330710_0, 0, 1;
    %jmp T_9.4;
T_9.0 ;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x6318ba330710_0, 0, 1;
    %jmp T_9.4;
T_9.1 ;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x6318ba330710_0, 0, 1;
    %jmp T_9.4;
T_9.2 ;
    %load/vec4 v0x6318ba31c570_0;
    %parti/u 1, 0, 32;
    %inv;
    %store/vec4 v0x6318ba330710_0, 0, 1;
    %jmp T_9.4;
T_9.4 ;
    %pop/vec4 1;
    %jmp T_9;
    .thread T_9, $push;
    .scope S_0x6318ba281490;
T_10 ;
    %wait E_0x6318ba217700;
    %load/vec4 v0x6318ba32e460_0;
    %cmpi/e 299, 0, 11;
    %flag_get/vec4 4;
    %jmp/0 T_10.0, 4;
    %load/vec4 v0x6318ba31c210_0;
    %pushi/vec4 299, 0, 11;
    %cmp/ne;
    %flag_get/vec4 4;
    %and;
T_10.0;
    %assign/vec4 v0x6318ba31d410_0, 0;
    %jmp T_10;
    .thread T_10;
    .scope S_0x6318ba281490;
T_11 ;
    %wait E_0x6318ba1994c0;
    %load/vec4 v0x6318ba32f950_0;
    %flag_set/vec4 8;
    %jmp/0xz  T_11.0, 8;
    %pushi/vec4 0, 0, 1;
    %assign/vec4 v0x6318ba3304b0_0, 0;
    %jmp T_11.1;
T_11.0 ;
    %load/vec4 v0x6318ba32e460_0;
    %cmpi/e 300, 0, 11;
    %jmp/0xz  T_11.2, 4;
    %pushi/vec4 0, 0, 1;
    %assign/vec4 v0x6318ba3304b0_0, 0;
    %jmp T_11.3;
T_11.2 ;
    %load/vec4 v0x6318ba330030_0;
    %flag_set/vec4 8;
    %jmp/0xz  T_11.4, 8;
    %load/vec4 v0x6318ba330270_0;
    %assign/vec4 v0x6318ba3304b0_0, 0;
T_11.4 ;
T_11.3 ;
T_11.1 ;
    %jmp T_11;
    .thread T_11;
    .scope S_0x6318ba281490;
T_12 ;
    %wait E_0x6318ba1994c0;
    %load/vec4 v0x6318ba32f950_0;
    %flag_set/vec4 8;
    %jmp/0xz  T_12.0, 8;
    %pushi/vec4 0, 0, 1;
    %assign/vec4 v0x6318ba31cc90_0, 0;
    %jmp T_12.1;
T_12.0 ;
    %load/vec4 v0x6318ba31c650_0;
    %parti/u 1, 42, 32;
    %flag_set/vec4 9;
    %flag_get/vec4 9;
    %jmp/0 T_12.4, 9;
    %load/vec4 v0x6318ba31c650_0;
    %parti/u 11, 54, 32;
    %pushi/vec4 258, 0, 11;
    %cmp/ne;
    %flag_get/vec4 4;
    %and;
T_12.4;
    %flag_set/vec4 8;
    %jmp/0xz  T_12.2, 8;
    %pushi/vec4 1, 0, 1;
    %assign/vec4 v0x6318ba31cc90_0, 0;
    %jmp T_12.3;
T_12.2 ;
    %load/vec4 v0x6318ba330030_0;
    %flag_set/vec4 9;
    %flag_get/vec4 9;
    %jmp/0 T_12.7, 9;
    %load/vec4 v0x6318ba32feb0_0;
    %nor/r;
    %and;
T_12.7;
    %flag_set/vec4 8;
    %jmp/0xz  T_12.5, 8;
    %pushi/vec4 0, 0, 1;
    %assign/vec4 v0x6318ba31cc90_0, 0;
T_12.5 ;
T_12.3 ;
T_12.1 ;
    %jmp T_12;
    .thread T_12;
    .scope S_0x6318ba281490;
T_13 ;
Ewait_3 .event/or E_0x6318ba305170, E_0x0;
    %wait Ewait_3;
    %load/vec4 v0x6318ba31c570_0;
    %parti/u 2, 68, 32;
    %dup/vec4;
    %pushi/vec4 1, 0, 2;
    %cmp/u;
    %jmp/1 T_13.0, 6;
    %dup/vec4;
    %pushi/vec4 2, 0, 2;
    %cmp/u;
    %jmp/1 T_13.1, 6;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x6318ba32f890_0, 0, 1;
    %jmp T_13.3;
T_13.0 ;
    %load/vec4 v0x6318ba3307d0_0;
    %inv;
    %store/vec4 v0x6318ba32f890_0, 0, 1;
    %jmp T_13.3;
T_13.1 ;
    %load/vec4 v0x6318ba3307d0_0;
    %store/vec4 v0x6318ba32f890_0, 0, 1;
    %jmp T_13.3;
T_13.3 ;
    %pop/vec4 1;
    %jmp T_13;
    .thread T_13, $push;
    .scope S_0x6318ba281490;
T_14 ;
    %wait E_0x6318ba1994c0;
    %load/vec4 v0x6318ba32f950_0;
    %flag_set/vec4 8;
    %jmp/0xz  T_14.0, 8;
    %pushi/vec4 0, 0, 1;
    %assign/vec4 v0x6318ba32e7a0_0, 0;
    %jmp T_14.1;
T_14.0 ;
    %load/vec4 v0x6318ba32e460_0;
    %cmpi/e 298, 0, 11;
    %jmp/0xz  T_14.2, 4;
    %pushi/vec4 0, 0, 1;
    %assign/vec4 v0x6318ba32e7a0_0, 0;
    %jmp T_14.3;
T_14.2 ;
    %load/vec4 v0x6318ba32e860_0;
    %flag_set/vec4 8;
    %jmp/0xz  T_14.4, 8;
    %pushi/vec4 1, 0, 1;
    %assign/vec4 v0x6318ba32e7a0_0, 0;
T_14.4 ;
T_14.3 ;
T_14.1 ;
    %jmp T_14;
    .thread T_14;
    .scope S_0x6318ba281490;
T_15 ;
    %wait E_0x6318ba1994c0;
    %load/vec4 v0x6318ba32f950_0;
    %flag_set/vec4 8;
    %jmp/0xz  T_15.0, 8;
    %pushi/vec4 0, 0, 1;
    %assign/vec4 v0x6318ba32fd30_0, 0;
    %jmp T_15.1;
T_15.0 ;
    %load/vec4 v0x6318ba31c990_0;
    %flag_set/vec4 8;
    %jmp/0xz  T_15.2, 8;
    %pushi/vec4 1, 0, 1;
    %assign/vec4 v0x6318ba32fd30_0, 0;
    %jmp T_15.3;
T_15.2 ;
    %load/vec4 v0x6318ba31c8d0_0;
    %nor/r;
    %flag_set/vec4 8;
    %jmp/0xz  T_15.4, 8;
    %pushi/vec4 0, 0, 1;
    %assign/vec4 v0x6318ba32fd30_0, 0;
T_15.4 ;
T_15.3 ;
T_15.1 ;
    %jmp T_15;
    .thread T_15;
    .scope S_0x6318ba281490;
T_16 ;
Ewait_4 .event/or E_0x6318ba25be40, E_0x0;
    %wait Ewait_4;
    %load/vec4 v0x6318ba31c650_0;
    %parti/u 4, 32, 32;
    %dup/vec4;
    %pushi/vec4 1, 0, 4;
    %cmp/u;
    %jmp/1 T_16.0, 6;
    %dup/vec4;
    %pushi/vec4 2, 0, 4;
    %cmp/u;
    %jmp/1 T_16.1, 6;
    %dup/vec4;
    %pushi/vec4 3, 0, 4;
    %cmp/u;
    %jmp/1 T_16.2, 6;
    %dup/vec4;
    %pushi/vec4 4, 0, 4;
    %cmp/u;
    %jmp/1 T_16.3, 6;
    %dup/vec4;
    %pushi/vec4 5, 0, 4;
    %cmp/u;
    %jmp/1 T_16.4, 6;
    %dup/vec4;
    %pushi/vec4 6, 0, 4;
    %cmp/u;
    %jmp/1 T_16.5, 6;
    %dup/vec4;
    %pushi/vec4 8, 0, 4;
    %cmp/u;
    %jmp/1 T_16.6, 6;
    %dup/vec4;
    %pushi/vec4 9, 0, 4;
    %cmp/u;
    %jmp/1 T_16.7, 6;
    %dup/vec4;
    %pushi/vec4 7, 0, 4;
    %cmp/u;
    %jmp/1 T_16.8, 6;
    %dup/vec4;
    %pushi/vec4 10, 0, 4;
    %cmp/u;
    %jmp/1 T_16.9, 6;
    %dup/vec4;
    %pushi/vec4 11, 0, 4;
    %cmp/u;
    %jmp/1 T_16.10, 6;
    %load/vec4 v0x6318ba31c650_0;
    %parti/u 11, 54, 32;
    %store/vec4 v0x6318ba31d890_0, 0, 11;
    %jmp T_16.12;
T_16.0 ;
    %load/vec4 v0x6318ba31c650_0;
    %parti/u 11, 54, 32;
    %pushi/vec4 0, 0, 10;
    %load/vec4 v0x6318ba32fa10_0;
    %inv;
    %concat/vec4; draw_concat_vec4
    %add;
    %store/vec4 v0x6318ba31d890_0, 0, 11;
    %jmp T_16.12;
T_16.1 ;
    %load/vec4 v0x6318ba31ce10_0;
    %nor/r;
    %flag_set/vec4 8;
    %jmp/0 T_16.13, 8;
    %pushi/vec4 0, 0, 3;
    %load/vec4 v0x6318ba32e600_0;
    %parti/u 8, 0, 32;
    %concat/vec4; draw_concat_vec4
    %jmp/1 T_16.14, 8;
T_16.13 ; End of true expr.
    %load/vec4 v0x6318ba31c210_0;
    %jmp/0 T_16.14, 8;
 ; End of false expr.
    %blend;
T_16.14;
    %store/vec4 v0x6318ba31d890_0, 0, 11;
    %jmp T_16.12;
T_16.2 ;
    %load/vec4 v0x6318ba31c650_0;
    %parti/u 11, 54, 32;
    %pushi/vec4 0, 0, 8;
    %load/vec4 v0x6318ba32e200_0;
    %concat/vec4; draw_concat_vec4
    %add;
    %store/vec4 v0x6318ba31d890_0, 0, 11;
    %jmp T_16.12;
T_16.3 ;
    %load/vec4 v0x6318ba31d290_0;
    %inv;
    %flag_set/vec4 8;
    %jmp/0 T_16.15, 8;
    %load/vec4 v0x6318ba31c650_0;
    %parti/u 11, 54, 32;
    %jmp/1 T_16.16, 8;
T_16.15 ; End of true expr.
    %load/vec4 v0x6318ba31c210_0;
    %addi 1, 0, 11;
    %jmp/0 T_16.16, 8;
 ; End of false expr.
    %blend;
T_16.16;
    %store/vec4 v0x6318ba31d890_0, 0, 11;
    %jmp T_16.12;
T_16.4 ;
    %load/vec4 v0x6318ba3307d0_0;
    %flag_set/vec4 8;
    %jmp/0 T_16.17, 8;
    %load/vec4 v0x6318ba31c650_0;
    %parti/u 11, 54, 32;
    %jmp/1 T_16.18, 8;
T_16.17 ; End of true expr.
    %load/vec4 v0x6318ba31c210_0;
    %addi 1, 0, 11;
    %jmp/0 T_16.18, 8;
 ; End of false expr.
    %blend;
T_16.18;
    %store/vec4 v0x6318ba31d890_0, 0, 11;
    %jmp T_16.12;
T_16.5 ;
    %load/vec4 v0x6318ba32f890_0;
    %nor/r;
    %flag_set/vec4 8;
    %jmp/0 T_16.19, 8;
    %load/vec4 v0x6318ba31c650_0;
    %parti/u 11, 54, 32;
    %jmp/1 T_16.20, 8;
T_16.19 ; End of true expr.
    %load/vec4 v0x6318ba31c210_0;
    %addi 1, 0, 11;
    %jmp/0 T_16.20, 8;
 ; End of false expr.
    %blend;
T_16.20;
    %store/vec4 v0x6318ba31d890_0, 0, 11;
    %jmp T_16.12;
T_16.6 ;
    %load/vec4 v0x6318ba32f470_0;
    %flag_set/vec4 8;
    %jmp/0 T_16.21, 8;
    %load/vec4 v0x6318ba31c650_0;
    %parti/u 11, 54, 32;
    %jmp/1 T_16.22, 8;
T_16.21 ; End of true expr.
    %load/vec4 v0x6318ba31c210_0;
    %addi 1, 0, 11;
    %jmp/0 T_16.22, 8;
 ; End of false expr.
    %blend;
T_16.22;
    %store/vec4 v0x6318ba31d890_0, 0, 11;
    %jmp T_16.12;
T_16.7 ;
    %load/vec4 v0x6318ba31daf0_0;
    %flag_set/vec4 8;
    %jmp/0 T_16.23, 8;
    %load/vec4 v0x6318ba31c650_0;
    %parti/u 11, 54, 32;
    %jmp/1 T_16.24, 8;
T_16.23 ; End of true expr.
    %load/vec4 v0x6318ba31c210_0;
    %addi 1, 0, 11;
    %jmp/0 T_16.24, 8;
 ; End of false expr.
    %blend;
T_16.24;
    %store/vec4 v0x6318ba31d890_0, 0, 11;
    %jmp T_16.12;
T_16.8 ;
    %load/vec4 v0x6318ba31d7d0_0;
    %flag_set/vec4 8;
    %jmp/0 T_16.25, 8;
    %load/vec4 v0x6318ba31c650_0;
    %parti/u 11, 54, 32;
    %jmp/1 T_16.26, 8;
T_16.25 ; End of true expr.
    %load/vec4 v0x6318ba31c210_0;
    %addi 1, 0, 11;
    %jmp/0 T_16.26, 8;
 ; End of false expr.
    %blend;
T_16.26;
    %store/vec4 v0x6318ba31d890_0, 0, 11;
    %jmp T_16.12;
T_16.9 ;
    %load/vec4 v0x6318ba31d050_0;
    %flag_set/vec4 8;
    %jmp/0 T_16.27, 8;
    %load/vec4 v0x6318ba31c650_0;
    %parti/u 11, 54, 32;
    %jmp/1 T_16.28, 8;
T_16.27 ; End of true expr.
    %load/vec4 v0x6318ba31c210_0;
    %addi 1, 0, 11;
    %jmp/0 T_16.28, 8;
 ; End of false expr.
    %blend;
T_16.28;
    %store/vec4 v0x6318ba31d890_0, 0, 11;
    %jmp T_16.12;
T_16.10 ;
    %load/vec4 v0x6318ba31d1d0_0;
    %flag_set/vec4 8;
    %jmp/0 T_16.29, 8;
    %load/vec4 v0x6318ba31c650_0;
    %parti/u 11, 54, 32;
    %jmp/1 T_16.30, 8;
T_16.29 ; End of true expr.
    %load/vec4 v0x6318ba31c210_0;
    %addi 1, 0, 11;
    %jmp/0 T_16.30, 8;
 ; End of false expr.
    %blend;
T_16.30;
    %store/vec4 v0x6318ba31d890_0, 0, 11;
    %jmp T_16.12;
T_16.12 ;
    %pop/vec4 1;
    %jmp T_16;
    .thread T_16, $push;
    .scope S_0x6318ba281490;
T_17 ;
Ewait_5 .event/or E_0x6318ba226010, E_0x0;
    %wait Ewait_5;
    %load/vec4 v0x6318ba32f950_0;
    %flag_set/vec4 8;
    %jmp/0xz  T_17.0, 8;
    %pushi/vec4 297, 0, 11;
    %store/vec4 v0x6318ba32e460_0, 0, 11;
    %jmp T_17.1;
T_17.0 ;
    %load/vec4 v0x6318ba32feb0_0;
    %flag_set/vec4 8;
    %jmp/0xz  T_17.2, 8;
    %load/vec4 v0x6318ba31c210_0;
    %store/vec4 v0x6318ba32e460_0, 0, 11;
    %jmp T_17.3;
T_17.2 ;
    %load/vec4 v0x6318ba31c650_0;
    %parti/u 1, 41, 32;
    %flag_set/vec4 9;
    %flag_get/vec4 9;
    %jmp/0 T_17.6, 9;
    %load/vec4 v0x6318ba32fdf0_0;
    %and;
T_17.6;
    %flag_set/vec4 8;
    %jmp/0xz  T_17.4, 8;
    %pushi/vec4 258, 0, 11;
    %store/vec4 v0x6318ba32e460_0, 0, 11;
    %jmp T_17.5;
T_17.4 ;
    %load/vec4 v0x6318ba31c650_0;
    %parti/u 1, 41, 32;
    %flag_set/vec4 9;
    %flag_get/vec4 9;
    %jmp/0 T_17.9, 9;
    %load/vec4 v0x6318ba3301b0_0;
    %and;
T_17.9;
    %flag_set/vec4 8;
    %jmp/0xz  T_17.7, 8;
    %pushi/vec4 298, 0, 11;
    %store/vec4 v0x6318ba32e460_0, 0, 11;
    %jmp T_17.8;
T_17.7 ;
    %load/vec4 v0x6318ba31c650_0;
    %parti/u 1, 41, 32;
    %flag_set/vec4 9;
    %flag_get/vec4 9;
    %jmp/0 T_17.12, 9;
    %load/vec4 v0x6318ba3300f0_0;
    %and;
T_17.12;
    %flag_set/vec4 8;
    %jmp/0xz  T_17.10, 8;
    %pushi/vec4 299, 0, 11;
    %store/vec4 v0x6318ba32e460_0, 0, 11;
    %jmp T_17.11;
T_17.10 ;
    %load/vec4 v0x6318ba31c210_0;
    %cmpi/e 256, 0, 11;
    %flag_get/vec4 4;
    %jmp/0 T_17.17, 4;
    %load/vec4 v0x6318ba31ce10_0;
    %nor/r;
    %and;
T_17.17;
    %flag_set/vec4 10;
    %flag_get/vec4 10;
    %jmp/0 T_17.16, 10;
    %load/vec4 v0x6318ba31cf90_0;
    %nor/r;
    %and;
T_17.16;
    %flag_set/vec4 9;
    %flag_get/vec4 9;
    %jmp/0 T_17.15, 9;
    %load/vec4 v0x6318ba32e600_0;
    %parti/u 1, 75, 32;
    %and;
T_17.15;
    %flag_set/vec4 8;
    %jmp/0xz  T_17.13, 8;
    %pushi/vec4 303, 0, 11;
    %store/vec4 v0x6318ba32e460_0, 0, 11;
    %jmp T_17.14;
T_17.13 ;
    %load/vec4 v0x6318ba31c650_0;
    %parti/u 4, 32, 32;
    %cmpi/ne 0, 0, 4;
    %jmp/0xz  T_17.18, 4;
    %load/vec4 v0x6318ba31d890_0;
    %store/vec4 v0x6318ba32e460_0, 0, 11;
    %jmp T_17.19;
T_17.18 ;
    %load/vec4 v0x6318ba31ca50_0;
    %flag_set/vec4 8;
    %jmp/0xz  T_17.20, 8;
    %pushi/vec4 257, 0, 11;
    %store/vec4 v0x6318ba32e460_0, 0, 11;
    %jmp T_17.21;
T_17.20 ;
    %load/vec4 v0x6318ba31c650_0;
    %parti/u 1, 25, 32;
    %flag_set/vec4 9;
    %flag_get/vec4 9;
    %jmp/0 T_17.24, 9;
    %load/vec4 v0x6318ba3301b0_0;
    %and;
T_17.24;
    %flag_set/vec4 8;
    %jmp/0xz  T_17.22, 8;
    %pushi/vec4 298, 0, 11;
    %store/vec4 v0x6318ba32e460_0, 0, 11;
    %jmp T_17.23;
T_17.22 ;
    %load/vec4 v0x6318ba31c650_0;
    %parti/u 1, 25, 32;
    %flag_set/vec4 9;
    %flag_get/vec4 9;
    %jmp/0 T_17.27, 9;
    %load/vec4 v0x6318ba3300f0_0;
    %and;
T_17.27;
    %flag_set/vec4 8;
    %jmp/0xz  T_17.25, 8;
    %pushi/vec4 299, 0, 11;
    %store/vec4 v0x6318ba32e460_0, 0, 11;
    %jmp T_17.26;
T_17.25 ;
    %load/vec4 v0x6318ba31c650_0;
    %parti/u 1, 25, 32;
    %flag_set/vec4 9;
    %flag_get/vec4 9;
    %jmp/0 T_17.31, 9;
    %load/vec4 v0x6318ba31cbd0_0;
    %and;
T_17.31;
    %flag_set/vec4 8;
    %jmp/1 T_17.30, 8;
    %load/vec4 v0x6318ba31d710_0;
    %flag_set/vec4 10;
    %flag_get/vec4 10;
    %jmp/0 T_17.32, 10;
    %load/vec4 v0x6318ba3304b0_0;
    %and;
T_17.32;
    %flag_set/vec4 9;
    %flag_or 8, 9;
T_17.30;
    %jmp/0xz  T_17.28, 8;
    %pushi/vec4 300, 0, 11;
    %store/vec4 v0x6318ba32e460_0, 0, 11;
    %jmp T_17.29;
T_17.28 ;
    %load/vec4 v0x6318ba31c650_0;
    %parti/u 1, 25, 32;
    %flag_set/vec4 9;
    %flag_get/vec4 9;
    %jmp/0 T_17.35, 9;
    %load/vec4 v0x6318ba31c8d0_0;
    %and;
T_17.35;
    %flag_set/vec4 8;
    %jmp/0xz  T_17.33, 8;
    %pushi/vec4 258, 0, 11;
    %store/vec4 v0x6318ba32e460_0, 0, 11;
    %jmp T_17.34;
T_17.33 ;
    %load/vec4 v0x6318ba31c650_0;
    %parti/u 1, 25, 32;
    %flag_set/vec4 8;
    %jmp/1 T_17.38, 8;
    %load/vec4 v0x6318ba31d710_0;
    %flag_set/vec4 10;
    %flag_get/vec4 10;
    %jmp/0 T_17.39, 10;
    %load/vec4 v0x6318ba31d4d0_0;
    %and;
T_17.39;
    %flag_set/vec4 9;
    %flag_or 8, 9;
T_17.38;
    %jmp/0xz  T_17.36, 8;
    %load/vec4 v0x6318ba31ce10_0;
    %nor/r;
    %flag_set/vec4 9;
    %flag_get/vec4 9;
    %jmp/0 T_17.42, 9;
    %load/vec4 v0x6318ba31cf90_0;
    %nor/r;
    %and;
T_17.42;
    %flag_set/vec4 8;
    %jmp/0 T_17.40, 8;
    %load/vec4 v0x6318ba32e600_0;
    %parti/u 1, 64, 32;
    %flag_set/vec4 9;
    %jmp/0 T_17.43, 9;
    %pushi/vec4 302, 0, 11;
    %jmp/1 T_17.44, 9;
T_17.43 ; End of true expr.
    %pushi/vec4 0, 0, 3;
    %load/vec4 v0x6318ba32e600_0;
    %parti/u 8, 0, 32;
    %concat/vec4; draw_concat_vec4
    %jmp/0 T_17.44, 9;
 ; End of false expr.
    %blend;
T_17.44;
    %jmp/1 T_17.41, 8;
T_17.40 ; End of true expr.
    %pushi/vec4 256, 0, 11;
    %jmp/0 T_17.41, 8;
 ; End of false expr.
    %blend;
T_17.41;
    %store/vec4 v0x6318ba32e460_0, 0, 11;
    %jmp T_17.37;
T_17.36 ;
    %load/vec4 v0x6318ba31c650_0;
    %parti/u 11, 54, 32;
    %store/vec4 v0x6318ba32e460_0, 0, 11;
T_17.37 ;
T_17.34 ;
T_17.29 ;
T_17.26 ;
T_17.23 ;
T_17.21 ;
T_17.19 ;
T_17.14 ;
T_17.11 ;
T_17.8 ;
T_17.5 ;
T_17.3 ;
T_17.1 ;
    %jmp T_17;
    .thread T_17, $push;
    .scope S_0x6318ba281490;
T_18 ;
    %wait E_0x6318ba217700;
    %load/vec4 v0x6318ba32e460_0;
    %assign/vec4 v0x6318ba31c210_0, 0;
    %jmp T_18;
    .thread T_18;
    .scope S_0x6318ba281490;
T_19 ;
    %wait E_0x6318ba217700;
    %load/vec4 v0x6318ba32e460_0;
    %pad/u 12;
    %ix/vec4 4;
    %load/vec4a v0x6318ba31deb0, 4;
    %assign/vec4 v0x6318ba31c650_0, 0;
    %jmp T_19;
    .thread T_19;
    .scope S_0x6318ba281490;
T_20 ;
    %wait E_0x6318ba217700;
    %load/vec4 v0x6318ba31ced0_0;
    %flag_set/vec4 8;
    %jmp/0xz  T_20.0, 8;
    %load/vec4 v0x6318ba32e600_0;
    %assign/vec4 v0x6318ba31c570_0, 0;
T_20.0 ;
    %jmp T_20;
    .thread T_20;
    .scope S_0x6318ba281990;
T_21 ;
    %delay 5000, 0;
    %load/vec4 v0x6318ba331df0_0;
    %inv;
    %store/vec4 v0x6318ba331df0_0, 0, 1;
    %jmp T_21;
    .thread T_21;
    .scope S_0x6318ba281990;
T_22 ;
    %vpi_call/w 3 190 "$readmemb", "microcode.bin", v0x6318ba31deb0 {0 0 0};
    %end;
    .thread T_22;
    .scope S_0x6318ba281990;
T_23 ;
    %fork t_1, S_0x6318ba280590;
    %jmp t_0;
    .scope S_0x6318ba280590;
t_1 ;
    %pushi/vec4 0, 0, 32;
    %store/vec4 v0x6318ba334c40_0, 0, 32;
    %pushi/vec4 0, 0, 32;
    %store/vec4 v0x6318ba333ea0_0, 0, 32;
    %pushi/vec4 0, 0, 32;
    %store/vec4 v0x6318ba3325a0_0, 0, 32;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x6318ba331df0_0, 0, 1;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x6318ba3345c0_0, 0, 1;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x6318ba333d00_0, 0, 1;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x6318ba332bf0_0, 0, 1;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x6318ba332a50_0, 0, 1;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x6318ba3349d0_0, 0, 1;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x6318ba332330_0, 0, 1;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x6318ba334690_0, 0, 1;
    %pushi/vec4 0, 0, 3;
    %store/vec4 v0x6318ba333820_0, 0, 3;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x6318ba3351c0_0, 0, 1;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x6318ba334ce0_0, 0, 1;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x6318ba332f30_0, 0, 1;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x6318ba3341b0_0, 0, 1;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x6318ba3328b0_0, 0, 1;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x6318ba332640_0, 0, 1;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x6318ba3327e0_0, 0, 1;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x6318ba3331a0_0, 0, 1;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x6318ba332100_0, 0, 1;
    %pushi/vec4 0, 0, 8;
    %store/vec4 v0x6318ba331f60_0, 0, 8;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x6318ba332030_0, 0, 1;
    %pushi/vec4 144, 0, 8;
    %store/vec4 v0x6318ba317290_0, 0, 8;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x6318ba317050_0, 0, 1;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x6318ba317130_0, 0, 1;
    %pushi/vec4 0, 0, 2;
    %store/vec4 v0x6318ba317370_0, 0, 2;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x6318ba3171f0_0, 0, 1;
    %fork TD_microcode_tb.create_instruction, S_0x6318ba27f690;
    %join;
    %vpi_call/w 3 423 "$display", "========================================" {0 0 0};
    %vpi_call/w 3 424 "$display", "Comprehensive Microcode Unit Testbench" {0 0 0};
    %vpi_call/w 3 425 "$display", "Using real assembled microcode ROM" {0 0 0};
    %vpi_call/w 3 426 "$display", "========================================" {0 0 0};
    %vpi_call/w 3 429 "$display", "\012--- Reset Sequence ---" {0 0 0};
    %delay 100000, 0;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x6318ba3345c0_0, 0, 1;
    %vpi_call/w 3 432 "$display", "Reset released at time %0t", $time {0 0 0};
    %pushi/vec4 0, 0, 32;
    %store/vec4 v0x6318ba2fb560_0, 0, 32;
    %pushi/vec4 0, 0, 32;
    %store/vec4 v0x6318ba2fc5f0_0, 0, 32;
T_23.0 ;
    %load/vec4 v0x6318ba2fc5f0_0;
    %cmpi/s 200, 0, 32;
    %jmp/0xz T_23.1, 5;
    %wait E_0x6318ba217700;
    %load/vec4 v0x6318ba2fb560_0;
    %addi 1, 0, 32;
    %store/vec4 v0x6318ba2fb560_0, 0, 32;
    %load/vec4 v0x6318ba2fc5f0_0;
    %pushi/vec4 10, 0, 32;
    %mod/s;
    %cmpi/e 0, 0, 32;
    %jmp/1 T_23.5, 4;
    %flag_mov 8, 4;
    %load/vec4 v0x6318ba333a90_0;
    %flag_set/vec4 9;
    %flag_or 9, 8;
    %flag_mov 4, 9;
T_23.5;
    %jmp/1 T_23.4, 4;
    %flag_mov 8, 4;
    %load/vec4 v0x6318ba334b70_0;
    %flag_set/vec4 9;
    %flag_or 9, 8;
    %flag_mov 4, 9;
T_23.4;
    %jmp/0xz  T_23.2, 4;
    %vpi_call/w 3 442 "$display", "  Cycle %3d: next_instr=%b start_instr=%b fifo_rd=%b next_micro=%b", v0x6318ba2fb560_0, v0x6318ba333a90_0, v0x6318ba334b70_0, v0x6318ba332710_0, v0x6318ba333c30_0 {0 0 0};
T_23.2 ;
    %load/vec4 v0x6318ba334b70_0;
    %flag_set/vec4 8;
    %jmp/0xz  T_23.6, 8;
    %vpi_call/w 3 448 "$display", "  Boot complete after %0d cycles!", v0x6318ba2fb560_0 {0 0 0};
    %pushi/vec4 200, 0, 32;
    %store/vec4 v0x6318ba2fc5f0_0, 0, 32;
T_23.6 ;
    %load/vec4 v0x6318ba2fc5f0_0;
    %addi 1, 0, 32;
    %store/vec4 v0x6318ba2fc5f0_0, 0, 32;
    %jmp T_23.0;
T_23.1 ;
    %load/vec4 v0x6318ba334b70_0;
    %nor/r;
    %flag_set/vec4 8;
    %jmp/0xz  T_23.8, 8;
    %vpi_call/w 3 454 "$display", "  WARNING: No starting_instruction seen after %0d cycles", v0x6318ba2fb560_0 {0 0 0};
    %vpi_call/w 3 455 "$display", "  Current state: next_instr=%b fifo_empty=%b fifo_reset=%b", v0x6318ba333a90_0, v0x6318ba332640_0, v0x6318ba3327e0_0 {0 0 0};
T_23.8 ;
    %delay 40000, 0;
    %vpi_call/w 3 464 "$display", "\012--- Test 1: NOP (0x90) instruction ---" {0 0 0};
    %vpi_call/w 3 465 "$display", "  Setting up NOP instruction..." {0 0 0};
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x6318ba332640_0, 0, 1;
    %pushi/vec4 144, 0, 8;
    %store/vec4 v0x6318ba317290_0, 0, 8;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x6318ba317050_0, 0, 1;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x6318ba317130_0, 0, 1;
    %pushi/vec4 0, 0, 2;
    %store/vec4 v0x6318ba317370_0, 0, 2;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x6318ba3171f0_0, 0, 1;
    %fork TD_microcode_tb.create_instruction, S_0x6318ba27f690;
    %join;
    %vpi_call/w 3 468 "$display", "  FIFO: empty=%b opcode=0x%02h", v0x6318ba332640_0, &PV<v0x6318ba333b60_0, 0, 8> {0 0 0};
    %fork TD_microcode_tb.wait_for_instruction_start, S_0x6318ba281e90;
    %join;
    %vpi_call/w 3 472 "$display", "  After instruction start: opcode=0x%02h fifo_rd=%b", v0x6318ba333dd0_0, v0x6318ba332710_0 {0 0 0};
    %pushi/str "NOP instruction fetched";
    %store/str v0x6318ba316cb0_0;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x6318ba2ff7c0_0, 0, 1;
    %load/vec4 v0x6318ba332710_0;
    %store/vec4 v0x6318ba2fee20_0, 0, 1;
    %fork TD_microcode_tb.check_result, S_0x6318ba280090;
    %join;
    %wait E_0x6318ba217700;
    %pushi/str "NOP opcode correct";
    %store/str v0x6318ba316cb0_0;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x6318ba2ff7c0_0, 0, 1;
    %load/vec4 v0x6318ba333dd0_0;
    %pushi/vec4 144, 0, 8;
    %cmp/e;
    %flag_get/vec4 4;
    %store/vec4 v0x6318ba2fee20_0, 0, 1;
    %fork TD_microcode_tb.check_result, S_0x6318ba280090;
    %join;
    %wait E_0x6318ba217700;
    %vpi_call/w 3 481 "$display", "  After 1 cycle: next_instr=%b next_micro=%b", v0x6318ba333a90_0, v0x6318ba333c30_0 {0 0 0};
    %wait E_0x6318ba217700;
    %vpi_call/w 3 483 "$display", "  After 2 cycles: next_instr=%b next_micro=%b", v0x6318ba333a90_0, v0x6318ba333c30_0 {0 0 0};
    %pushi/str "NOP signals next_instruction";
    %store/str v0x6318ba316cb0_0;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x6318ba2ff7c0_0, 0, 1;
    %load/vec4 v0x6318ba333a90_0;
    %store/vec4 v0x6318ba2fee20_0, 0, 1;
    %fork TD_microcode_tb.check_result, S_0x6318ba280090;
    %join;
    %vpi_call/w 3 490 "$display", "\012--- Test 2: MOV AX, imm16 (0xB8) ---" {0 0 0};
    %vpi_call/w 3 491 "$display", "  Setting up MOV instruction..." {0 0 0};
    %pushi/vec4 184, 0, 8;
    %store/vec4 v0x6318ba317290_0, 0, 8;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x6318ba317050_0, 0, 1;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x6318ba317130_0, 0, 1;
    %pushi/vec4 0, 0, 2;
    %store/vec4 v0x6318ba317370_0, 0, 2;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x6318ba3171f0_0, 0, 1;
    %fork TD_microcode_tb.create_instruction, S_0x6318ba27f690;
    %join;
    %pushi/vec4 184, 0, 8;
    %store/vec4 v0x6318ba331680_0, 0, 8;
    %fork TD_microcode_tb.wait_for_instruction_start_with_opcode, S_0x6318ba3314a0;
    %join;
    %wait E_0x6318ba217700;
    %wait E_0x6318ba217700;
    %vpi_call/w 3 499 "$display", "  After instruction start: opcode=0x%02h", v0x6318ba333dd0_0 {0 0 0};
    %pushi/str "MOV AX, imm opcode correct";
    %store/str v0x6318ba316cb0_0;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x6318ba2ff7c0_0, 0, 1;
    %load/vec4 v0x6318ba333dd0_0;
    %pushi/vec4 184, 0, 8;
    %cmp/e;
    %flag_get/vec4 4;
    %store/vec4 v0x6318ba2fee20_0, 0, 1;
    %fork TD_microcode_tb.check_result, S_0x6318ba280090;
    %join;
    %wait E_0x6318ba217700;
    %vpi_call/w 3 504 "$display", "  Cycle 1: b_sel=%0d alu_op=%0d reg_wr=%b next=%b", v0x6318ba331cf0_0, v0x6318ba331c20_0, v0x6318ba334420_0, v0x6318ba333a90_0 {0 0 0};
    %wait E_0x6318ba217700;
    %vpi_call/w 3 507 "$display", "  Cycle 2: b_sel=%0d alu_op=%0d reg_wr=%b next=%b", v0x6318ba331cf0_0, v0x6318ba331c20_0, v0x6318ba334420_0, v0x6318ba333a90_0 {0 0 0};
    %vpi_call/w 3 514 "$display", "  Expected: b_sel=%0d (IMMEDIATE), alu_op=%0d (SELB), reg_wr=1", 3'b001, 6'b000001 {0 0 0};
    %pushi/str "MOV uses immediate";
    %store/str v0x6318ba316cb0_0;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x6318ba2ff7c0_0, 0, 1;
    %load/vec4 v0x6318ba331cf0_0;
    %pushi/vec4 1, 0, 3;
    %cmp/e;
    %flag_get/vec4 4;
    %store/vec4 v0x6318ba2fee20_0, 0, 1;
    %fork TD_microcode_tb.check_result, S_0x6318ba280090;
    %join;
    %pushi/str "MOV uses SELB";
    %store/str v0x6318ba316cb0_0;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x6318ba2ff7c0_0, 0, 1;
    %load/vec4 v0x6318ba331c20_0;
    %pushi/vec4 1, 0, 6;
    %cmp/e;
    %flag_get/vec4 4;
    %store/vec4 v0x6318ba2fee20_0, 0, 1;
    %fork TD_microcode_tb.check_result, S_0x6318ba280090;
    %join;
    %pushi/str "MOV writes register";
    %store/str v0x6318ba316cb0_0;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x6318ba2ff7c0_0, 0, 1;
    %load/vec4 v0x6318ba334420_0;
    %store/vec4 v0x6318ba2fee20_0, 0, 1;
    %fork TD_microcode_tb.check_result, S_0x6318ba280090;
    %join;
    %pushi/str "MOV completes";
    %store/str v0x6318ba316cb0_0;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x6318ba2ff7c0_0, 0, 1;
    %load/vec4 v0x6318ba333a90_0;
    %store/vec4 v0x6318ba2fee20_0, 0, 1;
    %fork TD_microcode_tb.check_result, S_0x6318ba280090;
    %join;
    %vpi_call/w 3 524 "$display", "\012--- Test 3: INC AX (0x40) ---" {0 0 0};
    %vpi_call/w 3 525 "$display", "  Setting up INC instruction..." {0 0 0};
    %pushi/vec4 64, 0, 8;
    %store/vec4 v0x6318ba317290_0, 0, 8;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x6318ba317050_0, 0, 1;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x6318ba317130_0, 0, 1;
    %pushi/vec4 0, 0, 2;
    %store/vec4 v0x6318ba317370_0, 0, 2;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x6318ba3171f0_0, 0, 1;
    %fork TD_microcode_tb.create_instruction, S_0x6318ba27f690;
    %join;
    %pushi/vec4 64, 0, 8;
    %store/vec4 v0x6318ba331680_0, 0, 8;
    %fork TD_microcode_tb.wait_for_instruction_start_with_opcode, S_0x6318ba3314a0;
    %join;
    %wait E_0x6318ba217700;
    %wait E_0x6318ba217700;
    %vpi_call/w 3 533 "$display", "  After instruction start: opcode=0x%02h", v0x6318ba333dd0_0 {0 0 0};
    %pushi/str "INC AX opcode correct";
    %store/str v0x6318ba316cb0_0;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x6318ba2ff7c0_0, 0, 1;
    %load/vec4 v0x6318ba333dd0_0;
    %pushi/vec4 64, 0, 8;
    %cmp/e;
    %flag_get/vec4 4;
    %store/vec4 v0x6318ba2fee20_0, 0, 1;
    %fork TD_microcode_tb.check_result, S_0x6318ba280090;
    %join;
    %vpi_call/w 3 537 "$display", "  Tracing INC execution:" {0 0 0};
    %pushi/vec4 0, 0, 32;
    %store/vec4 v0x6318ba2fc430_0, 0, 32;
    %pushi/vec4 0, 0, 32;
    %store/vec4 v0x6318ba2fc5f0_0, 0, 32;
T_23.10 ;
    %load/vec4 v0x6318ba2fc5f0_0;
    %cmpi/s 10, 0, 32;
    %jmp/0xz T_23.11, 5;
    %wait E_0x6318ba217700;
    %load/vec4 v0x6318ba2fc430_0;
    %addi 1, 0, 32;
    %store/vec4 v0x6318ba2fc430_0, 0, 32;
    %vpi_call/w 3 542 "$display", "    Cycle %0d: alu_op=%0d flags=0x%03h reg_wr=%b next=%b", v0x6318ba2fc430_0, v0x6318ba331c20_0, v0x6318ba334f50_0, v0x6318ba334420_0, v0x6318ba333a90_0 {0 0 0};
    %load/vec4 v0x6318ba333a90_0;
    %flag_set/vec4 8;
    %jmp/0xz  T_23.12, 8;
    %pushi/vec4 10, 0, 32;
    %store/vec4 v0x6318ba2fc5f0_0, 0, 32;
T_23.12 ;
    %load/vec4 v0x6318ba2fc5f0_0;
    %addi 1, 0, 32;
    %store/vec4 v0x6318ba2fc5f0_0, 0, 32;
    %jmp T_23.10;
T_23.11 ;
    %vpi_call/w 3 549 "$display", "  INC completed in %0d cycles", v0x6318ba2fc430_0 {0 0 0};
    %pushi/str "INC completes in 1 cycle";
    %store/str v0x6318ba316cb0_0;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x6318ba2ff7c0_0, 0, 1;
    %load/vec4 v0x6318ba2fc430_0;
    %pushi/vec4 1, 0, 32;
    %cmp/e;
    %flag_get/vec4 4;
    %store/vec4 v0x6318ba2fee20_0, 0, 1;
    %fork TD_microcode_tb.check_result, S_0x6318ba280090;
    %join;
    %pushi/str "INC updates flags";
    %store/str v0x6318ba316cb0_0;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x6318ba2ff7c0_0, 0, 1;
    %load/vec4 v0x6318ba334f50_0;
    %pushi/vec4 0, 0, 9;
    %cmp/ne;
    %flag_get/vec4 4;
    %store/vec4 v0x6318ba2fee20_0, 0, 1;
    %fork TD_microcode_tb.check_result, S_0x6318ba280090;
    %join;
    %pushi/str "INC writes register";
    %store/str v0x6318ba316cb0_0;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x6318ba2ff7c0_0, 0, 1;
    %load/vec4 v0x6318ba334420_0;
    %store/vec4 v0x6318ba2fee20_0, 0, 1;
    %fork TD_microcode_tb.check_result, S_0x6318ba280090;
    %join;
    %vpi_call/w 3 557 "$display", "\012--- Test 4: Multibit shift detection ---" {0 0 0};
    %fork TD_microcode_tb.wait_for_sequencer_settle, S_0x6318ba331860;
    %join;
    %vpi_call/w 3 561 "$display", "  DEBUG: Before setup - fifo_empty=%b, start=%b", v0x6318ba332640_0, v0x6318ba334b70_0 {0 0 0};
    %pushi/vec4 210, 0, 8;
    %store/vec4 v0x6318ba317290_0, 0, 8;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x6318ba317050_0, 0, 1;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x6318ba317130_0, 0, 1;
    %pushi/vec4 0, 0, 2;
    %store/vec4 v0x6318ba317370_0, 0, 2;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x6318ba3171f0_0, 0, 1;
    %fork TD_microcode_tb.create_instruction, S_0x6318ba27f690;
    %join;
    %vpi_call/w 3 563 "$display", "  DEBUG: After setup - fifo_empty=%b, start=%b, next_op=0x%02h", v0x6318ba332640_0, v0x6318ba334b70_0, &PV<v0x6318ba333b60_0, 0, 8> {0 0 0};
    %pushi/vec4 210, 0, 8;
    %store/vec4 v0x6318ba331680_0, 0, 8;
    %fork TD_microcode_tb.wait_for_instruction_start_with_opcode, S_0x6318ba3314a0;
    %join;
    %wait E_0x6318ba217700;
    %vpi_call/w 3 567 "$display", "  DEBUG 0xD2: opcode=0x%02h, multibit_shift=%b", v0x6318ba333dd0_0, v0x6318ba3339c0_0 {0 0 0};
    %pushi/str "0xD2 is multibit shift";
    %store/str v0x6318ba316cb0_0;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x6318ba2ff7c0_0, 0, 1;
    %load/vec4 v0x6318ba3339c0_0;
    %store/vec4 v0x6318ba2fee20_0, 0, 1;
    %fork TD_microcode_tb.check_result, S_0x6318ba280090;
    %join;
    %fork TD_microcode_tb.wait_for_sequencer_settle, S_0x6318ba331860;
    %join;
    %pushi/vec4 211, 0, 8;
    %store/vec4 v0x6318ba317290_0, 0, 8;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x6318ba317050_0, 0, 1;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x6318ba317130_0, 0, 1;
    %pushi/vec4 0, 0, 2;
    %store/vec4 v0x6318ba317370_0, 0, 2;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x6318ba3171f0_0, 0, 1;
    %fork TD_microcode_tb.create_instruction, S_0x6318ba27f690;
    %join;
    %pushi/vec4 211, 0, 8;
    %store/vec4 v0x6318ba331680_0, 0, 8;
    %fork TD_microcode_tb.wait_for_instruction_start_with_opcode, S_0x6318ba3314a0;
    %join;
    %wait E_0x6318ba217700;
    %pushi/str "0xD3 is multibit_shift";
    %store/str v0x6318ba316cb0_0;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x6318ba2ff7c0_0, 0, 1;
    %load/vec4 v0x6318ba3339c0_0;
    %store/vec4 v0x6318ba2fee20_0, 0, 1;
    %fork TD_microcode_tb.check_result, S_0x6318ba280090;
    %join;
    %fork TD_microcode_tb.wait_for_sequencer_settle, S_0x6318ba331860;
    %join;
    %pushi/vec4 192, 0, 8;
    %store/vec4 v0x6318ba317290_0, 0, 8;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x6318ba317050_0, 0, 1;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x6318ba317130_0, 0, 1;
    %pushi/vec4 0, 0, 2;
    %store/vec4 v0x6318ba317370_0, 0, 2;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x6318ba3171f0_0, 0, 1;
    %fork TD_microcode_tb.create_instruction, S_0x6318ba27f690;
    %join;
    %pushi/vec4 192, 0, 8;
    %store/vec4 v0x6318ba331680_0, 0, 8;
    %fork TD_microcode_tb.wait_for_instruction_start_with_opcode, S_0x6318ba3314a0;
    %join;
    %wait E_0x6318ba217700;
    %pushi/str "0xC0 is multibit shift";
    %store/str v0x6318ba316cb0_0;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x6318ba2ff7c0_0, 0, 1;
    %load/vec4 v0x6318ba3339c0_0;
    %store/vec4 v0x6318ba2fee20_0, 0, 1;
    %fork TD_microcode_tb.check_result, S_0x6318ba280090;
    %join;
    %fork TD_microcode_tb.wait_for_sequencer_settle, S_0x6318ba331860;
    %join;
    %pushi/vec4 193, 0, 8;
    %store/vec4 v0x6318ba317290_0, 0, 8;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x6318ba317050_0, 0, 1;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x6318ba317130_0, 0, 1;
    %pushi/vec4 0, 0, 2;
    %store/vec4 v0x6318ba317370_0, 0, 2;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x6318ba3171f0_0, 0, 1;
    %fork TD_microcode_tb.create_instruction, S_0x6318ba27f690;
    %join;
    %pushi/vec4 193, 0, 8;
    %store/vec4 v0x6318ba331680_0, 0, 8;
    %fork TD_microcode_tb.wait_for_instruction_start_with_opcode, S_0x6318ba3314a0;
    %join;
    %wait E_0x6318ba217700;
    %pushi/str "0xC1 is multibit shift";
    %store/str v0x6318ba316cb0_0;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x6318ba2ff7c0_0, 0, 1;
    %load/vec4 v0x6318ba3339c0_0;
    %store/vec4 v0x6318ba2fee20_0, 0, 1;
    %fork TD_microcode_tb.check_result, S_0x6318ba280090;
    %join;
    %vpi_call/w 3 594 "$display", "\012--- Test 5: LOCK prefix ---" {0 0 0};
    %fork TD_microcode_tb.wait_for_sequencer_settle, S_0x6318ba331860;
    %join;
    %pushi/vec4 144, 0, 8;
    %store/vec4 v0x6318ba317290_0, 0, 8;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x6318ba317050_0, 0, 1;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x6318ba317130_0, 0, 1;
    %pushi/vec4 0, 0, 2;
    %store/vec4 v0x6318ba317370_0, 0, 2;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x6318ba3171f0_0, 0, 1;
    %fork TD_microcode_tb.create_instruction, S_0x6318ba27f690;
    %join;
    %pushi/vec4 144, 0, 8;
    %store/vec4 v0x6318ba331680_0, 0, 8;
    %fork TD_microcode_tb.wait_for_instruction_start_with_opcode, S_0x6318ba3314a0;
    %join;
    %wait E_0x6318ba217700;
    %vpi_call/w 3 602 "$display", "  DEBUG LOCK: opcode=0x%02h, lock=%b", v0x6318ba333dd0_0, v0x6318ba3330d0_0 {0 0 0};
    %pushi/str "LOCK prefix detected";
    %store/str v0x6318ba316cb0_0;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x6318ba2ff7c0_0, 0, 1;
    %load/vec4 v0x6318ba3330d0_0;
    %store/vec4 v0x6318ba2fee20_0, 0, 1;
    %fork TD_microcode_tb.check_result, S_0x6318ba280090;
    %join;
    %vpi_call/w 3 608 "$display", "\012--- Test 6: Stall prevents sequencing ---" {0 0 0};
    %fork TD_microcode_tb.wait_for_sequencer_settle, S_0x6318ba331860;
    %join;
    %pushi/vec4 144, 0, 8;
    %store/vec4 v0x6318ba317290_0, 0, 8;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x6318ba317050_0, 0, 1;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x6318ba317130_0, 0, 1;
    %pushi/vec4 0, 0, 2;
    %store/vec4 v0x6318ba317370_0, 0, 2;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x6318ba3171f0_0, 0, 1;
    %fork TD_microcode_tb.create_instruction, S_0x6318ba27f690;
    %join;
    %pushi/vec4 144, 0, 8;
    %store/vec4 v0x6318ba331680_0, 0, 8;
    %fork TD_microcode_tb.wait_for_instruction_start_with_opcode, S_0x6318ba3314a0;
    %join;
    %wait E_0x6318ba217700;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x6318ba3349d0_0, 0, 1;
    %wait E_0x6318ba217700;
    %wait E_0x6318ba217700;
    %wait E_0x6318ba217700;
    %pushi/str "Stall prevents microcode advance";
    %store/str v0x6318ba316cb0_0;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x6318ba2ff7c0_0, 0, 1;
    %load/vec4 v0x6318ba333c30_0;
    %store/vec4 v0x6318ba2fee20_0, 0, 1;
    %fork TD_microcode_tb.check_result, S_0x6318ba280090;
    %join;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x6318ba3349d0_0, 0, 1;
    %wait E_0x6318ba217700;
    %pushi/str "Stall release allows advance";
    %store/str v0x6318ba316cb0_0;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x6318ba2ff7c0_0, 0, 1;
    %load/vec4 v0x6318ba333a90_0;
    %store/vec4 v0x6318ba2fee20_0, 0, 1;
    %fork TD_microcode_tb.check_result, S_0x6318ba280090;
    %join;
    %vpi_call/w 3 632 "$display", "\012--- Test 7: NMI interrupt with IRET ---" {0 0 0};
    %fork TD_microcode_tb.wait_for_sequencer_settle, S_0x6318ba331860;
    %join;
    %pushi/vec4 144, 0, 8;
    %store/vec4 v0x6318ba317290_0, 0, 8;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x6318ba317050_0, 0, 1;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x6318ba317130_0, 0, 1;
    %pushi/vec4 0, 0, 2;
    %store/vec4 v0x6318ba317370_0, 0, 2;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x6318ba3171f0_0, 0, 1;
    %fork TD_microcode_tb.create_instruction, S_0x6318ba27f690;
    %join;
    %pushi/vec4 144, 0, 8;
    %store/vec4 v0x6318ba331680_0, 0, 8;
    %fork TD_microcode_tb.wait_for_instruction_start_with_opcode, S_0x6318ba3314a0;
    %join;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x6318ba333d00_0, 0, 1;
    %wait E_0x6318ba217700;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x6318ba333d00_0, 0, 1;
    %pushi/vec4 0, 0, 32;
    %store/vec4 v0x6318ba2fd6c0_0, 0, 32;
T_23.14 ;
    %load/vec4 v0x6318ba334aa0_0;
    %nor/r;
    %flag_set/vec4 9;
    %flag_get/vec4 9;
    %jmp/0 T_23.16, 9;
    %load/vec4 v0x6318ba2fd6c0_0;
    %cmpi/s 100, 0, 32;
    %flag_get/vec4 5;
    %and;
T_23.16;
    %flag_set/vec4 8;
    %jmp/0xz T_23.15, 8;
    %wait E_0x6318ba217700;
    %load/vec4 v0x6318ba2fd6c0_0;
    %addi 1, 0, 32;
    %store/vec4 v0x6318ba2fd6c0_0, 0, 32;
    %jmp T_23.14;
T_23.15 ;
    %pushi/str "NMI triggers interrupt";
    %store/str v0x6318ba316cb0_0;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x6318ba2ff7c0_0, 0, 1;
    %load/vec4 v0x6318ba334aa0_0;
    %store/vec4 v0x6318ba2fee20_0, 0, 1;
    %fork TD_microcode_tb.check_result, S_0x6318ba280090;
    %join;
    %pushi/str "NMI taken within 100 cycles";
    %store/str v0x6318ba316cb0_0;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x6318ba2ff7c0_0, 0, 1;
    %load/vec4 v0x6318ba2fd6c0_0;
    %cmpi/s 100, 0, 32;
    %flag_get/vec4 5;
    %store/vec4 v0x6318ba2fee20_0, 0, 1;
    %fork TD_microcode_tb.check_result, S_0x6318ba280090;
    %join;
    %fork TD_microcode_tb.handle_nmi_interrupt, S_0x6318ba2821f0;
    %join;
    %pushi/str "NMI handler completes with IRET";
    %store/str v0x6318ba316cb0_0;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x6318ba2ff7c0_0, 0, 1;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x6318ba2fee20_0, 0, 1;
    %fork TD_microcode_tb.check_result, S_0x6318ba280090;
    %join;
    %vpi_call/w 3 662 "$display", "\012--- Test 8: IRQ with INTA and IRET ---" {0 0 0};
    %fork TD_microcode_tb.wait_for_sequencer_settle, S_0x6318ba331860;
    %join;
    %pushi/vec4 144, 0, 8;
    %store/vec4 v0x6318ba317290_0, 0, 8;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x6318ba317050_0, 0, 1;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x6318ba317130_0, 0, 1;
    %pushi/vec4 0, 0, 2;
    %store/vec4 v0x6318ba317370_0, 0, 2;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x6318ba3171f0_0, 0, 1;
    %fork TD_microcode_tb.create_instruction, S_0x6318ba27f690;
    %join;
    %pushi/vec4 144, 0, 8;
    %store/vec4 v0x6318ba331680_0, 0, 8;
    %fork TD_microcode_tb.wait_for_instruction_start_with_opcode, S_0x6318ba3314a0;
    %join;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x6318ba332a50_0, 0, 1;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x6318ba332bf0_0, 0, 1;
    %pushi/vec4 0, 0, 32;
    %store/vec4 v0x6318ba2fd6c0_0, 0, 32;
    %pushi/vec4 0, 0, 32;
    %store/vec4 v0x6318ba2fd500_0, 0, 32;
T_23.17 ;
    %load/vec4 v0x6318ba332b20_0;
    %nor/r;
    %flag_set/vec4 9;
    %flag_get/vec4 9;
    %jmp/0 T_23.19, 9;
    %load/vec4 v0x6318ba2fd6c0_0;
    %cmpi/s 100, 0, 32;
    %flag_get/vec4 5;
    %and;
T_23.19;
    %flag_set/vec4 8;
    %jmp/0xz T_23.18, 8;
    %load/vec4 v0x6318ba332d90_0;
    %flag_set/vec4 8;
    %jmp/0xz  T_23.20, 8;
    %pushi/vec4 1, 0, 32;
    %store/vec4 v0x6318ba2fd500_0, 0, 32;
T_23.20 ;
    %wait E_0x6318ba217700;
    %load/vec4 v0x6318ba2fd6c0_0;
    %addi 1, 0, 32;
    %store/vec4 v0x6318ba2fd6c0_0, 0, 32;
    %jmp T_23.17;
T_23.18 ;
    %pushi/str "IRQ generates INTA";
    %store/str v0x6318ba316cb0_0;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x6318ba2ff7c0_0, 0, 1;
    %load/vec4 v0x6318ba332b20_0;
    %store/vec4 v0x6318ba2fee20_0, 0, 1;
    %fork TD_microcode_tb.check_result, S_0x6318ba280090;
    %join;
    %pushi/str "IRQ to MDR asserted";
    %store/str v0x6318ba316cb0_0;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x6318ba2ff7c0_0, 0, 1;
    %load/vec4 v0x6318ba2fd500_0;
    %pad/s 1;
    %store/vec4 v0x6318ba2fee20_0, 0, 1;
    %fork TD_microcode_tb.check_result, S_0x6318ba280090;
    %join;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x6318ba332bf0_0, 0, 1;
    %fork TD_microcode_tb.handle_nmi_interrupt, S_0x6318ba2821f0;
    %join;
    %pushi/str "IRQ handler completes with IRET";
    %store/str v0x6318ba316cb0_0;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x6318ba2ff7c0_0, 0, 1;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x6318ba2fee20_0, 0, 1;
    %fork TD_microcode_tb.check_result, S_0x6318ba280090;
    %join;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x6318ba332a50_0, 0, 1;
    %vpi_call/w 3 699 "$display", "\012--- Test 9: ModR/M instruction ---" {0 0 0};
    %pushi/vec4 139, 0, 8;
    %store/vec4 v0x6318ba317290_0, 0, 8;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x6318ba317050_0, 0, 1;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x6318ba317130_0, 0, 1;
    %pushi/vec4 0, 0, 2;
    %store/vec4 v0x6318ba317370_0, 0, 2;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x6318ba3171f0_0, 0, 1;
    %fork TD_microcode_tb.create_instruction, S_0x6318ba27f690;
    %join;
    %pushi/vec4 0, 0, 32;
    %store/vec4 v0x6318ba2fd6c0_0, 0, 32;
T_23.22 ;
    %load/vec4 v0x6318ba3338f0_0;
    %nor/r;
    %flag_set/vec4 9;
    %flag_get/vec4 9;
    %jmp/0 T_23.24, 9;
    %load/vec4 v0x6318ba2fd6c0_0;
    %cmpi/s 100, 0, 32;
    %flag_get/vec4 5;
    %and;
T_23.24;
    %flag_set/vec4 8;
    %jmp/0xz T_23.23, 8;
    %wait E_0x6318ba217700;
    %load/vec4 v0x6318ba2fd6c0_0;
    %addi 1, 0, 32;
    %store/vec4 v0x6318ba2fd6c0_0, 0, 32;
    %jmp T_23.22;
T_23.23 ;
    %pushi/str "ModR/M start asserts";
    %store/str v0x6318ba316cb0_0;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x6318ba2ff7c0_0, 0, 1;
    %load/vec4 v0x6318ba3338f0_0;
    %store/vec4 v0x6318ba2fee20_0, 0, 1;
    %fork TD_microcode_tb.check_result, S_0x6318ba280090;
    %join;
    %vpi_call/w 3 714 "$display", "\012--- Test 10: Invalid opcode ---" {0 0 0};
    %pushi/vec4 255, 0, 8;
    %store/vec4 v0x6318ba317290_0, 0, 8;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x6318ba317050_0, 0, 1;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x6318ba317130_0, 0, 1;
    %pushi/vec4 0, 0, 2;
    %store/vec4 v0x6318ba317370_0, 0, 2;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x6318ba3171f0_0, 0, 1;
    %fork TD_microcode_tb.create_instruction, S_0x6318ba27f690;
    %join;
    %wait E_0x6318ba217700;
    %wait E_0x6318ba217700;
    %pushi/str "Invalid opcode processed";
    %store/str v0x6318ba316cb0_0;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x6318ba2ff7c0_0, 0, 1;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x6318ba2fee20_0, 0, 1;
    %fork TD_microcode_tb.check_result, S_0x6318ba280090;
    %join;
    %vpi_call/w 3 727 "$display", "\012--- Test 11: FPU ESC Instructions ---" {0 0 0};
    %fork TD_microcode_tb.wait_for_sequencer_settle, S_0x6318ba331860;
    %join;
    %pushi/vec4 216, 0, 8;
    %store/vec4 v0x6318ba317290_0, 0, 8;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x6318ba317050_0, 0, 1;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x6318ba317130_0, 0, 1;
    %pushi/vec4 0, 0, 2;
    %store/vec4 v0x6318ba317370_0, 0, 2;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x6318ba3171f0_0, 0, 1;
    %fork TD_microcode_tb.create_instruction, S_0x6318ba27f690;
    %join;
    %pushi/vec4 216, 0, 8;
    %store/vec4 v0x6318ba331680_0, 0, 8;
    %fork TD_microcode_tb.wait_for_instruction_start_with_opcode, S_0x6318ba3314a0;
    %join;
    %wait E_0x6318ba217700;
    %vpi_call/w 3 734 "$display", "  DEBUG ESC 0xD8: opcode=0x%02h, do_escape_fault=%b", v0x6318ba333dd0_0, v0x6318ba332400_0 {0 0 0};
    %pushi/str "ESC 0xD8 (FADD) detected";
    %store/str v0x6318ba316cb0_0;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x6318ba2ff7c0_0, 0, 1;
    %load/vec4 v0x6318ba333dd0_0;
    %pushi/vec4 216, 0, 8;
    %cmp/e;
    %flag_get/vec4 4;
    %store/vec4 v0x6318ba2fee20_0, 0, 1;
    %fork TD_microcode_tb.check_result, S_0x6318ba280090;
    %join;
    %fork TD_microcode_tb.wait_for_sequencer_settle, S_0x6318ba331860;
    %join;
    %pushi/vec4 217, 0, 8;
    %store/vec4 v0x6318ba317290_0, 0, 8;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x6318ba317050_0, 0, 1;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x6318ba317130_0, 0, 1;
    %pushi/vec4 0, 0, 2;
    %store/vec4 v0x6318ba317370_0, 0, 2;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x6318ba3171f0_0, 0, 1;
    %fork TD_microcode_tb.create_instruction, S_0x6318ba27f690;
    %join;
    %pushi/vec4 217, 0, 8;
    %store/vec4 v0x6318ba331680_0, 0, 8;
    %fork TD_microcode_tb.wait_for_instruction_start_with_opcode, S_0x6318ba3314a0;
    %join;
    %wait E_0x6318ba217700;
    %pushi/str "ESC 0xD9 (FLD/FST) detected";
    %store/str v0x6318ba316cb0_0;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x6318ba2ff7c0_0, 0, 1;
    %load/vec4 v0x6318ba333dd0_0;
    %pushi/vec4 217, 0, 8;
    %cmp/e;
    %flag_get/vec4 4;
    %store/vec4 v0x6318ba2fee20_0, 0, 1;
    %fork TD_microcode_tb.check_result, S_0x6318ba280090;
    %join;
    %fork TD_microcode_tb.wait_for_sequencer_settle, S_0x6318ba331860;
    %join;
    %pushi/vec4 218, 0, 8;
    %store/vec4 v0x6318ba317290_0, 0, 8;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x6318ba317050_0, 0, 1;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x6318ba317130_0, 0, 1;
    %pushi/vec4 0, 0, 2;
    %store/vec4 v0x6318ba317370_0, 0, 2;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x6318ba3171f0_0, 0, 1;
    %fork TD_microcode_tb.create_instruction, S_0x6318ba27f690;
    %join;
    %pushi/vec4 218, 0, 8;
    %store/vec4 v0x6318ba331680_0, 0, 8;
    %fork TD_microcode_tb.wait_for_instruction_start_with_opcode, S_0x6318ba3314a0;
    %join;
    %wait E_0x6318ba217700;
    %pushi/str "ESC 0xDA (FIADD) detected";
    %store/str v0x6318ba316cb0_0;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x6318ba2ff7c0_0, 0, 1;
    %load/vec4 v0x6318ba333dd0_0;
    %pushi/vec4 218, 0, 8;
    %cmp/e;
    %flag_get/vec4 4;
    %store/vec4 v0x6318ba2fee20_0, 0, 1;
    %fork TD_microcode_tb.check_result, S_0x6318ba280090;
    %join;
    %fork TD_microcode_tb.wait_for_sequencer_settle, S_0x6318ba331860;
    %join;
    %pushi/vec4 219, 0, 8;
    %store/vec4 v0x6318ba317290_0, 0, 8;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x6318ba317050_0, 0, 1;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x6318ba317130_0, 0, 1;
    %pushi/vec4 0, 0, 2;
    %store/vec4 v0x6318ba317370_0, 0, 2;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x6318ba3171f0_0, 0, 1;
    %fork TD_microcode_tb.create_instruction, S_0x6318ba27f690;
    %join;
    %pushi/vec4 219, 0, 8;
    %store/vec4 v0x6318ba331680_0, 0, 8;
    %fork TD_microcode_tb.wait_for_instruction_start_with_opcode, S_0x6318ba3314a0;
    %join;
    %wait E_0x6318ba217700;
    %pushi/str "ESC 0xDB (FILD) detected";
    %store/str v0x6318ba316cb0_0;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x6318ba2ff7c0_0, 0, 1;
    %load/vec4 v0x6318ba333dd0_0;
    %pushi/vec4 219, 0, 8;
    %cmp/e;
    %flag_get/vec4 4;
    %store/vec4 v0x6318ba2fee20_0, 0, 1;
    %fork TD_microcode_tb.check_result, S_0x6318ba280090;
    %join;
    %fork TD_microcode_tb.wait_for_sequencer_settle, S_0x6318ba331860;
    %join;
    %pushi/vec4 220, 0, 8;
    %store/vec4 v0x6318ba317290_0, 0, 8;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x6318ba317050_0, 0, 1;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x6318ba317130_0, 0, 1;
    %pushi/vec4 0, 0, 2;
    %store/vec4 v0x6318ba317370_0, 0, 2;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x6318ba3171f0_0, 0, 1;
    %fork TD_microcode_tb.create_instruction, S_0x6318ba27f690;
    %join;
    %pushi/vec4 220, 0, 8;
    %store/vec4 v0x6318ba331680_0, 0, 8;
    %fork TD_microcode_tb.wait_for_instruction_start_with_opcode, S_0x6318ba3314a0;
    %join;
    %wait E_0x6318ba217700;
    %pushi/str "ESC 0xDC (FADD) detected";
    %store/str v0x6318ba316cb0_0;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x6318ba2ff7c0_0, 0, 1;
    %load/vec4 v0x6318ba333dd0_0;
    %pushi/vec4 220, 0, 8;
    %cmp/e;
    %flag_get/vec4 4;
    %store/vec4 v0x6318ba2fee20_0, 0, 1;
    %fork TD_microcode_tb.check_result, S_0x6318ba280090;
    %join;
    %fork TD_microcode_tb.wait_for_sequencer_settle, S_0x6318ba331860;
    %join;
    %pushi/vec4 221, 0, 8;
    %store/vec4 v0x6318ba317290_0, 0, 8;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x6318ba317050_0, 0, 1;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x6318ba317130_0, 0, 1;
    %pushi/vec4 0, 0, 2;
    %store/vec4 v0x6318ba317370_0, 0, 2;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x6318ba3171f0_0, 0, 1;
    %fork TD_microcode_tb.create_instruction, S_0x6318ba27f690;
    %join;
    %pushi/vec4 221, 0, 8;
    %store/vec4 v0x6318ba331680_0, 0, 8;
    %fork TD_microcode_tb.wait_for_instruction_start_with_opcode, S_0x6318ba3314a0;
    %join;
    %wait E_0x6318ba217700;
    %pushi/str "ESC 0xDD (FLD) detected";
    %store/str v0x6318ba316cb0_0;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x6318ba2ff7c0_0, 0, 1;
    %load/vec4 v0x6318ba333dd0_0;
    %pushi/vec4 221, 0, 8;
    %cmp/e;
    %flag_get/vec4 4;
    %store/vec4 v0x6318ba2fee20_0, 0, 1;
    %fork TD_microcode_tb.check_result, S_0x6318ba280090;
    %join;
    %fork TD_microcode_tb.wait_for_sequencer_settle, S_0x6318ba331860;
    %join;
    %pushi/vec4 222, 0, 8;
    %store/vec4 v0x6318ba317290_0, 0, 8;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x6318ba317050_0, 0, 1;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x6318ba317130_0, 0, 1;
    %pushi/vec4 0, 0, 2;
    %store/vec4 v0x6318ba317370_0, 0, 2;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x6318ba3171f0_0, 0, 1;
    %fork TD_microcode_tb.create_instruction, S_0x6318ba27f690;
    %join;
    %pushi/vec4 222, 0, 8;
    %store/vec4 v0x6318ba331680_0, 0, 8;
    %fork TD_microcode_tb.wait_for_instruction_start_with_opcode, S_0x6318ba3314a0;
    %join;
    %wait E_0x6318ba217700;
    %pushi/str "ESC 0xDE (FIADD) detected";
    %store/str v0x6318ba316cb0_0;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x6318ba2ff7c0_0, 0, 1;
    %load/vec4 v0x6318ba333dd0_0;
    %pushi/vec4 222, 0, 8;
    %cmp/e;
    %flag_get/vec4 4;
    %store/vec4 v0x6318ba2fee20_0, 0, 1;
    %fork TD_microcode_tb.check_result, S_0x6318ba280090;
    %join;
    %fork TD_microcode_tb.wait_for_sequencer_settle, S_0x6318ba331860;
    %join;
    %pushi/vec4 223, 0, 8;
    %store/vec4 v0x6318ba317290_0, 0, 8;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x6318ba317050_0, 0, 1;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x6318ba317130_0, 0, 1;
    %pushi/vec4 0, 0, 2;
    %store/vec4 v0x6318ba317370_0, 0, 2;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x6318ba3171f0_0, 0, 1;
    %fork TD_microcode_tb.create_instruction, S_0x6318ba27f690;
    %join;
    %pushi/vec4 223, 0, 8;
    %store/vec4 v0x6318ba331680_0, 0, 8;
    %fork TD_microcode_tb.wait_for_instruction_start_with_opcode, S_0x6318ba3314a0;
    %join;
    %wait E_0x6318ba217700;
    %pushi/str "ESC 0xDF (FILD) detected";
    %store/str v0x6318ba316cb0_0;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x6318ba2ff7c0_0, 0, 1;
    %load/vec4 v0x6318ba333dd0_0;
    %pushi/vec4 223, 0, 8;
    %cmp/e;
    %flag_get/vec4 4;
    %store/vec4 v0x6318ba2fee20_0, 0, 1;
    %fork TD_microcode_tb.check_result, S_0x6318ba280090;
    %join;
    %vpi_call/w 3 789 "$display", "\012--- Test 12: FPU Transcendental Instructions ---" {0 0 0};
    %fork TD_microcode_tb.wait_for_sequencer_settle, S_0x6318ba331860;
    %join;
    %pushi/vec4 217, 0, 8;
    %store/vec4 v0x6318ba317290_0, 0, 8;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x6318ba317050_0, 0, 1;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x6318ba317130_0, 0, 1;
    %pushi/vec4 0, 0, 2;
    %store/vec4 v0x6318ba317370_0, 0, 2;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x6318ba3171f0_0, 0, 1;
    %fork TD_microcode_tb.create_instruction, S_0x6318ba27f690;
    %join;
    %pushi/vec4 242, 0, 8;
    %ix/load 4, 8, 0;
    %flag_set/imm 4, 0;
    %store/vec4 v0x6318ba333b60_0, 4, 8;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x6318ba334690_0, 0, 1;
    %pushi/vec4 217, 0, 8;
    %store/vec4 v0x6318ba331680_0, 0, 8;
    %fork TD_microcode_tb.wait_for_instruction_start_with_opcode, S_0x6318ba3314a0;
    %join;
    %wait E_0x6318ba217700;
    %vpi_call/w 3 798 "$display", "  Testing FPTAN (0xD9 0xF2)" {0 0 0};
    %pushi/str "FPTAN instruction detected";
    %store/str v0x6318ba316cb0_0;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x6318ba2ff7c0_0, 0, 1;
    %load/vec4 v0x6318ba333dd0_0;
    %pushi/vec4 217, 0, 8;
    %cmp/e;
    %flag_get/vec4 4;
    %store/vec4 v0x6318ba2fee20_0, 0, 1;
    %fork TD_microcode_tb.check_result, S_0x6318ba280090;
    %join;
    %fork TD_microcode_tb.wait_for_sequencer_settle, S_0x6318ba331860;
    %join;
    %pushi/vec4 217, 0, 8;
    %store/vec4 v0x6318ba317290_0, 0, 8;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x6318ba317050_0, 0, 1;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x6318ba317130_0, 0, 1;
    %pushi/vec4 0, 0, 2;
    %store/vec4 v0x6318ba317370_0, 0, 2;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x6318ba3171f0_0, 0, 1;
    %fork TD_microcode_tb.create_instruction, S_0x6318ba27f690;
    %join;
    %pushi/vec4 243, 0, 8;
    %ix/load 4, 8, 0;
    %flag_set/imm 4, 0;
    %store/vec4 v0x6318ba333b60_0, 4, 8;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x6318ba334690_0, 0, 1;
    %pushi/vec4 217, 0, 8;
    %store/vec4 v0x6318ba331680_0, 0, 8;
    %fork TD_microcode_tb.wait_for_instruction_start_with_opcode, S_0x6318ba3314a0;
    %join;
    %wait E_0x6318ba217700;
    %vpi_call/w 3 808 "$display", "  Testing FPATAN (0xD9 0xF3)" {0 0 0};
    %pushi/str "FPATAN instruction detected";
    %store/str v0x6318ba316cb0_0;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x6318ba2ff7c0_0, 0, 1;
    %load/vec4 v0x6318ba333dd0_0;
    %pushi/vec4 217, 0, 8;
    %cmp/e;
    %flag_get/vec4 4;
    %store/vec4 v0x6318ba2fee20_0, 0, 1;
    %fork TD_microcode_tb.check_result, S_0x6318ba280090;
    %join;
    %fork TD_microcode_tb.wait_for_sequencer_settle, S_0x6318ba331860;
    %join;
    %pushi/vec4 217, 0, 8;
    %store/vec4 v0x6318ba317290_0, 0, 8;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x6318ba317050_0, 0, 1;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x6318ba317130_0, 0, 1;
    %pushi/vec4 0, 0, 2;
    %store/vec4 v0x6318ba317370_0, 0, 2;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x6318ba3171f0_0, 0, 1;
    %fork TD_microcode_tb.create_instruction, S_0x6318ba27f690;
    %join;
    %pushi/vec4 250, 0, 8;
    %ix/load 4, 8, 0;
    %flag_set/imm 4, 0;
    %store/vec4 v0x6318ba333b60_0, 4, 8;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x6318ba334690_0, 0, 1;
    %pushi/vec4 217, 0, 8;
    %store/vec4 v0x6318ba331680_0, 0, 8;
    %fork TD_microcode_tb.wait_for_instruction_start_with_opcode, S_0x6318ba3314a0;
    %join;
    %wait E_0x6318ba217700;
    %vpi_call/w 3 818 "$display", "  Testing FSQRT (0xD9 0xFA)" {0 0 0};
    %pushi/str "FSQRT instruction detected";
    %store/str v0x6318ba316cb0_0;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x6318ba2ff7c0_0, 0, 1;
    %load/vec4 v0x6318ba333dd0_0;
    %pushi/vec4 217, 0, 8;
    %cmp/e;
    %flag_get/vec4 4;
    %store/vec4 v0x6318ba2fee20_0, 0, 1;
    %fork TD_microcode_tb.check_result, S_0x6318ba280090;
    %join;
    %fork TD_microcode_tb.wait_for_sequencer_settle, S_0x6318ba331860;
    %join;
    %pushi/vec4 217, 0, 8;
    %store/vec4 v0x6318ba317290_0, 0, 8;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x6318ba317050_0, 0, 1;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x6318ba317130_0, 0, 1;
    %pushi/vec4 0, 0, 2;
    %store/vec4 v0x6318ba317370_0, 0, 2;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x6318ba3171f0_0, 0, 1;
    %fork TD_microcode_tb.create_instruction, S_0x6318ba27f690;
    %join;
    %pushi/vec4 254, 0, 8;
    %ix/load 4, 8, 0;
    %flag_set/imm 4, 0;
    %store/vec4 v0x6318ba333b60_0, 4, 8;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x6318ba334690_0, 0, 1;
    %pushi/vec4 217, 0, 8;
    %store/vec4 v0x6318ba331680_0, 0, 8;
    %fork TD_microcode_tb.wait_for_instruction_start_with_opcode, S_0x6318ba3314a0;
    %join;
    %wait E_0x6318ba217700;
    %vpi_call/w 3 828 "$display", "  Testing FSIN (0xD9 0xFE)" {0 0 0};
    %pushi/str "FSIN instruction detected";
    %store/str v0x6318ba316cb0_0;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x6318ba2ff7c0_0, 0, 1;
    %load/vec4 v0x6318ba333dd0_0;
    %pushi/vec4 217, 0, 8;
    %cmp/e;
    %flag_get/vec4 4;
    %store/vec4 v0x6318ba2fee20_0, 0, 1;
    %fork TD_microcode_tb.check_result, S_0x6318ba280090;
    %join;
    %fork TD_microcode_tb.wait_for_sequencer_settle, S_0x6318ba331860;
    %join;
    %pushi/vec4 217, 0, 8;
    %store/vec4 v0x6318ba317290_0, 0, 8;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x6318ba317050_0, 0, 1;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x6318ba317130_0, 0, 1;
    %pushi/vec4 0, 0, 2;
    %store/vec4 v0x6318ba317370_0, 0, 2;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x6318ba3171f0_0, 0, 1;
    %fork TD_microcode_tb.create_instruction, S_0x6318ba27f690;
    %join;
    %pushi/vec4 255, 0, 8;
    %ix/load 4, 8, 0;
    %flag_set/imm 4, 0;
    %store/vec4 v0x6318ba333b60_0, 4, 8;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x6318ba334690_0, 0, 1;
    %pushi/vec4 217, 0, 8;
    %store/vec4 v0x6318ba331680_0, 0, 8;
    %fork TD_microcode_tb.wait_for_instruction_start_with_opcode, S_0x6318ba3314a0;
    %join;
    %wait E_0x6318ba217700;
    %vpi_call/w 3 838 "$display", "  Testing FCOS (0xD9 0xFF)" {0 0 0};
    %pushi/str "FCOS instruction detected";
    %store/str v0x6318ba316cb0_0;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x6318ba2ff7c0_0, 0, 1;
    %load/vec4 v0x6318ba333dd0_0;
    %pushi/vec4 217, 0, 8;
    %cmp/e;
    %flag_get/vec4 4;
    %store/vec4 v0x6318ba2fee20_0, 0, 1;
    %fork TD_microcode_tb.check_result, S_0x6318ba280090;
    %join;
    %fork TD_microcode_tb.wait_for_sequencer_settle, S_0x6318ba331860;
    %join;
    %pushi/vec4 217, 0, 8;
    %store/vec4 v0x6318ba317290_0, 0, 8;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x6318ba317050_0, 0, 1;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x6318ba317130_0, 0, 1;
    %pushi/vec4 0, 0, 2;
    %store/vec4 v0x6318ba317370_0, 0, 2;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x6318ba3171f0_0, 0, 1;
    %fork TD_microcode_tb.create_instruction, S_0x6318ba27f690;
    %join;
    %pushi/vec4 251, 0, 8;
    %ix/load 4, 8, 0;
    %flag_set/imm 4, 0;
    %store/vec4 v0x6318ba333b60_0, 4, 8;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x6318ba334690_0, 0, 1;
    %pushi/vec4 217, 0, 8;
    %store/vec4 v0x6318ba331680_0, 0, 8;
    %fork TD_microcode_tb.wait_for_instruction_start_with_opcode, S_0x6318ba3314a0;
    %join;
    %wait E_0x6318ba217700;
    %vpi_call/w 3 848 "$display", "  Testing FSINCOS (0xD9 0xFB)" {0 0 0};
    %pushi/str "FSINCOS instruction detected";
    %store/str v0x6318ba316cb0_0;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x6318ba2ff7c0_0, 0, 1;
    %load/vec4 v0x6318ba333dd0_0;
    %pushi/vec4 217, 0, 8;
    %cmp/e;
    %flag_get/vec4 4;
    %store/vec4 v0x6318ba2fee20_0, 0, 1;
    %fork TD_microcode_tb.check_result, S_0x6318ba280090;
    %join;
    %vpi_call/w 3 854 "$display", "\012--- Test 13: FPU Mathematical Instructions ---" {0 0 0};
    %fork TD_microcode_tb.wait_for_sequencer_settle, S_0x6318ba331860;
    %join;
    %pushi/vec4 217, 0, 8;
    %store/vec4 v0x6318ba317290_0, 0, 8;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x6318ba317050_0, 0, 1;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x6318ba317130_0, 0, 1;
    %pushi/vec4 0, 0, 2;
    %store/vec4 v0x6318ba317370_0, 0, 2;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x6318ba3171f0_0, 0, 1;
    %fork TD_microcode_tb.create_instruction, S_0x6318ba27f690;
    %join;
    %pushi/vec4 225, 0, 8;
    %ix/load 4, 8, 0;
    %flag_set/imm 4, 0;
    %store/vec4 v0x6318ba333b60_0, 4, 8;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x6318ba334690_0, 0, 1;
    %pushi/vec4 217, 0, 8;
    %store/vec4 v0x6318ba331680_0, 0, 8;
    %fork TD_microcode_tb.wait_for_instruction_start_with_opcode, S_0x6318ba3314a0;
    %join;
    %wait E_0x6318ba217700;
    %vpi_call/w 3 863 "$display", "  Testing FABS (0xD9 0xE1)" {0 0 0};
    %pushi/str "FABS instruction detected";
    %store/str v0x6318ba316cb0_0;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x6318ba2ff7c0_0, 0, 1;
    %load/vec4 v0x6318ba333dd0_0;
    %pushi/vec4 217, 0, 8;
    %cmp/e;
    %flag_get/vec4 4;
    %store/vec4 v0x6318ba2fee20_0, 0, 1;
    %fork TD_microcode_tb.check_result, S_0x6318ba280090;
    %join;
    %fork TD_microcode_tb.wait_for_sequencer_settle, S_0x6318ba331860;
    %join;
    %pushi/vec4 217, 0, 8;
    %store/vec4 v0x6318ba317290_0, 0, 8;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x6318ba317050_0, 0, 1;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x6318ba317130_0, 0, 1;
    %pushi/vec4 0, 0, 2;
    %store/vec4 v0x6318ba317370_0, 0, 2;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x6318ba3171f0_0, 0, 1;
    %fork TD_microcode_tb.create_instruction, S_0x6318ba27f690;
    %join;
    %pushi/vec4 224, 0, 8;
    %ix/load 4, 8, 0;
    %flag_set/imm 4, 0;
    %store/vec4 v0x6318ba333b60_0, 4, 8;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x6318ba334690_0, 0, 1;
    %pushi/vec4 217, 0, 8;
    %store/vec4 v0x6318ba331680_0, 0, 8;
    %fork TD_microcode_tb.wait_for_instruction_start_with_opcode, S_0x6318ba3314a0;
    %join;
    %wait E_0x6318ba217700;
    %vpi_call/w 3 873 "$display", "  Testing FCHS (0xD9 0xE0)" {0 0 0};
    %pushi/str "FCHS instruction detected";
    %store/str v0x6318ba316cb0_0;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x6318ba2ff7c0_0, 0, 1;
    %load/vec4 v0x6318ba333dd0_0;
    %pushi/vec4 217, 0, 8;
    %cmp/e;
    %flag_get/vec4 4;
    %store/vec4 v0x6318ba2fee20_0, 0, 1;
    %fork TD_microcode_tb.check_result, S_0x6318ba280090;
    %join;
    %fork TD_microcode_tb.wait_for_sequencer_settle, S_0x6318ba331860;
    %join;
    %pushi/vec4 217, 0, 8;
    %store/vec4 v0x6318ba317290_0, 0, 8;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x6318ba317050_0, 0, 1;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x6318ba317130_0, 0, 1;
    %pushi/vec4 0, 0, 2;
    %store/vec4 v0x6318ba317370_0, 0, 2;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x6318ba3171f0_0, 0, 1;
    %fork TD_microcode_tb.create_instruction, S_0x6318ba27f690;
    %join;
    %pushi/vec4 252, 0, 8;
    %ix/load 4, 8, 0;
    %flag_set/imm 4, 0;
    %store/vec4 v0x6318ba333b60_0, 4, 8;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x6318ba334690_0, 0, 1;
    %pushi/vec4 217, 0, 8;
    %store/vec4 v0x6318ba331680_0, 0, 8;
    %fork TD_microcode_tb.wait_for_instruction_start_with_opcode, S_0x6318ba3314a0;
    %join;
    %wait E_0x6318ba217700;
    %vpi_call/w 3 883 "$display", "  Testing FRNDINT (0xD9 0xFC)" {0 0 0};
    %pushi/str "FRNDINT instruction detected";
    %store/str v0x6318ba316cb0_0;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x6318ba2ff7c0_0, 0, 1;
    %load/vec4 v0x6318ba333dd0_0;
    %pushi/vec4 217, 0, 8;
    %cmp/e;
    %flag_get/vec4 4;
    %store/vec4 v0x6318ba2fee20_0, 0, 1;
    %fork TD_microcode_tb.check_result, S_0x6318ba280090;
    %join;
    %fork TD_microcode_tb.wait_for_sequencer_settle, S_0x6318ba331860;
    %join;
    %pushi/vec4 217, 0, 8;
    %store/vec4 v0x6318ba317290_0, 0, 8;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x6318ba317050_0, 0, 1;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x6318ba317130_0, 0, 1;
    %pushi/vec4 0, 0, 2;
    %store/vec4 v0x6318ba317370_0, 0, 2;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x6318ba3171f0_0, 0, 1;
    %fork TD_microcode_tb.create_instruction, S_0x6318ba27f690;
    %join;
    %pushi/vec4 253, 0, 8;
    %ix/load 4, 8, 0;
    %flag_set/imm 4, 0;
    %store/vec4 v0x6318ba333b60_0, 4, 8;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x6318ba334690_0, 0, 1;
    %pushi/vec4 217, 0, 8;
    %store/vec4 v0x6318ba331680_0, 0, 8;
    %fork TD_microcode_tb.wait_for_instruction_start_with_opcode, S_0x6318ba3314a0;
    %join;
    %wait E_0x6318ba217700;
    %vpi_call/w 3 893 "$display", "  Testing FSCALE (0xD9 0xFD)" {0 0 0};
    %pushi/str "FSCALE instruction detected";
    %store/str v0x6318ba316cb0_0;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x6318ba2ff7c0_0, 0, 1;
    %load/vec4 v0x6318ba333dd0_0;
    %pushi/vec4 217, 0, 8;
    %cmp/e;
    %flag_get/vec4 4;
    %store/vec4 v0x6318ba2fee20_0, 0, 1;
    %fork TD_microcode_tb.check_result, S_0x6318ba280090;
    %join;
    %vpi_call/w 3 899 "$display", "\012--- Test 14: FPU Constant Load Instructions ---" {0 0 0};
    %fork TD_microcode_tb.wait_for_sequencer_settle, S_0x6318ba331860;
    %join;
    %pushi/vec4 217, 0, 8;
    %store/vec4 v0x6318ba317290_0, 0, 8;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x6318ba317050_0, 0, 1;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x6318ba317130_0, 0, 1;
    %pushi/vec4 0, 0, 2;
    %store/vec4 v0x6318ba317370_0, 0, 2;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x6318ba3171f0_0, 0, 1;
    %fork TD_microcode_tb.create_instruction, S_0x6318ba27f690;
    %join;
    %pushi/vec4 232, 0, 8;
    %ix/load 4, 8, 0;
    %flag_set/imm 4, 0;
    %store/vec4 v0x6318ba333b60_0, 4, 8;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x6318ba334690_0, 0, 1;
    %pushi/vec4 217, 0, 8;
    %store/vec4 v0x6318ba331680_0, 0, 8;
    %fork TD_microcode_tb.wait_for_instruction_start_with_opcode, S_0x6318ba3314a0;
    %join;
    %wait E_0x6318ba217700;
    %vpi_call/w 3 908 "$display", "  Testing FLD1 (0xD9 0xE8)" {0 0 0};
    %pushi/str "FLD1 instruction detected";
    %store/str v0x6318ba316cb0_0;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x6318ba2ff7c0_0, 0, 1;
    %load/vec4 v0x6318ba333dd0_0;
    %pushi/vec4 217, 0, 8;
    %cmp/e;
    %flag_get/vec4 4;
    %store/vec4 v0x6318ba2fee20_0, 0, 1;
    %fork TD_microcode_tb.check_result, S_0x6318ba280090;
    %join;
    %fork TD_microcode_tb.wait_for_sequencer_settle, S_0x6318ba331860;
    %join;
    %pushi/vec4 217, 0, 8;
    %store/vec4 v0x6318ba317290_0, 0, 8;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x6318ba317050_0, 0, 1;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x6318ba317130_0, 0, 1;
    %pushi/vec4 0, 0, 2;
    %store/vec4 v0x6318ba317370_0, 0, 2;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x6318ba3171f0_0, 0, 1;
    %fork TD_microcode_tb.create_instruction, S_0x6318ba27f690;
    %join;
    %pushi/vec4 238, 0, 8;
    %ix/load 4, 8, 0;
    %flag_set/imm 4, 0;
    %store/vec4 v0x6318ba333b60_0, 4, 8;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x6318ba334690_0, 0, 1;
    %pushi/vec4 217, 0, 8;
    %store/vec4 v0x6318ba331680_0, 0, 8;
    %fork TD_microcode_tb.wait_for_instruction_start_with_opcode, S_0x6318ba3314a0;
    %join;
    %wait E_0x6318ba217700;
    %vpi_call/w 3 918 "$display", "  Testing FLDZ (0xD9 0xEE)" {0 0 0};
    %pushi/str "FLDZ instruction detected";
    %store/str v0x6318ba316cb0_0;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x6318ba2ff7c0_0, 0, 1;
    %load/vec4 v0x6318ba333dd0_0;
    %pushi/vec4 217, 0, 8;
    %cmp/e;
    %flag_get/vec4 4;
    %store/vec4 v0x6318ba2fee20_0, 0, 1;
    %fork TD_microcode_tb.check_result, S_0x6318ba280090;
    %join;
    %fork TD_microcode_tb.wait_for_sequencer_settle, S_0x6318ba331860;
    %join;
    %pushi/vec4 217, 0, 8;
    %store/vec4 v0x6318ba317290_0, 0, 8;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x6318ba317050_0, 0, 1;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x6318ba317130_0, 0, 1;
    %pushi/vec4 0, 0, 2;
    %store/vec4 v0x6318ba317370_0, 0, 2;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x6318ba3171f0_0, 0, 1;
    %fork TD_microcode_tb.create_instruction, S_0x6318ba27f690;
    %join;
    %pushi/vec4 235, 0, 8;
    %ix/load 4, 8, 0;
    %flag_set/imm 4, 0;
    %store/vec4 v0x6318ba333b60_0, 4, 8;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x6318ba334690_0, 0, 1;
    %pushi/vec4 217, 0, 8;
    %store/vec4 v0x6318ba331680_0, 0, 8;
    %fork TD_microcode_tb.wait_for_instruction_start_with_opcode, S_0x6318ba3314a0;
    %join;
    %wait E_0x6318ba217700;
    %vpi_call/w 3 928 "$display", "  Testing FLDPI (0xD9 0xEB)" {0 0 0};
    %pushi/str "FLDPI instruction detected";
    %store/str v0x6318ba316cb0_0;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x6318ba2ff7c0_0, 0, 1;
    %load/vec4 v0x6318ba333dd0_0;
    %pushi/vec4 217, 0, 8;
    %cmp/e;
    %flag_get/vec4 4;
    %store/vec4 v0x6318ba2fee20_0, 0, 1;
    %fork TD_microcode_tb.check_result, S_0x6318ba280090;
    %join;
    %fork TD_microcode_tb.wait_for_sequencer_settle, S_0x6318ba331860;
    %join;
    %pushi/vec4 217, 0, 8;
    %store/vec4 v0x6318ba317290_0, 0, 8;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x6318ba317050_0, 0, 1;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x6318ba317130_0, 0, 1;
    %pushi/vec4 0, 0, 2;
    %store/vec4 v0x6318ba317370_0, 0, 2;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x6318ba3171f0_0, 0, 1;
    %fork TD_microcode_tb.create_instruction, S_0x6318ba27f690;
    %join;
    %pushi/vec4 234, 0, 8;
    %ix/load 4, 8, 0;
    %flag_set/imm 4, 0;
    %store/vec4 v0x6318ba333b60_0, 4, 8;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x6318ba334690_0, 0, 1;
    %pushi/vec4 217, 0, 8;
    %store/vec4 v0x6318ba331680_0, 0, 8;
    %fork TD_microcode_tb.wait_for_instruction_start_with_opcode, S_0x6318ba3314a0;
    %join;
    %wait E_0x6318ba217700;
    %vpi_call/w 3 938 "$display", "  Testing FLDL2E (0xD9 0xEA)" {0 0 0};
    %pushi/str "FLDL2E instruction detected";
    %store/str v0x6318ba316cb0_0;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x6318ba2ff7c0_0, 0, 1;
    %load/vec4 v0x6318ba333dd0_0;
    %pushi/vec4 217, 0, 8;
    %cmp/e;
    %flag_get/vec4 4;
    %store/vec4 v0x6318ba2fee20_0, 0, 1;
    %fork TD_microcode_tb.check_result, S_0x6318ba280090;
    %join;
    %fork TD_microcode_tb.wait_for_sequencer_settle, S_0x6318ba331860;
    %join;
    %pushi/vec4 217, 0, 8;
    %store/vec4 v0x6318ba317290_0, 0, 8;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x6318ba317050_0, 0, 1;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x6318ba317130_0, 0, 1;
    %pushi/vec4 0, 0, 2;
    %store/vec4 v0x6318ba317370_0, 0, 2;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x6318ba3171f0_0, 0, 1;
    %fork TD_microcode_tb.create_instruction, S_0x6318ba27f690;
    %join;
    %pushi/vec4 233, 0, 8;
    %ix/load 4, 8, 0;
    %flag_set/imm 4, 0;
    %store/vec4 v0x6318ba333b60_0, 4, 8;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x6318ba334690_0, 0, 1;
    %pushi/vec4 217, 0, 8;
    %store/vec4 v0x6318ba331680_0, 0, 8;
    %fork TD_microcode_tb.wait_for_instruction_start_with_opcode, S_0x6318ba3314a0;
    %join;
    %wait E_0x6318ba217700;
    %vpi_call/w 3 948 "$display", "  Testing FLDL2T (0xD9 0xE9)" {0 0 0};
    %pushi/str "FLDL2T instruction detected";
    %store/str v0x6318ba316cb0_0;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x6318ba2ff7c0_0, 0, 1;
    %load/vec4 v0x6318ba333dd0_0;
    %pushi/vec4 217, 0, 8;
    %cmp/e;
    %flag_get/vec4 4;
    %store/vec4 v0x6318ba2fee20_0, 0, 1;
    %fork TD_microcode_tb.check_result, S_0x6318ba280090;
    %join;
    %fork TD_microcode_tb.wait_for_sequencer_settle, S_0x6318ba331860;
    %join;
    %pushi/vec4 217, 0, 8;
    %store/vec4 v0x6318ba317290_0, 0, 8;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x6318ba317050_0, 0, 1;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x6318ba317130_0, 0, 1;
    %pushi/vec4 0, 0, 2;
    %store/vec4 v0x6318ba317370_0, 0, 2;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x6318ba3171f0_0, 0, 1;
    %fork TD_microcode_tb.create_instruction, S_0x6318ba27f690;
    %join;
    %pushi/vec4 236, 0, 8;
    %ix/load 4, 8, 0;
    %flag_set/imm 4, 0;
    %store/vec4 v0x6318ba333b60_0, 4, 8;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x6318ba334690_0, 0, 1;
    %pushi/vec4 217, 0, 8;
    %store/vec4 v0x6318ba331680_0, 0, 8;
    %fork TD_microcode_tb.wait_for_instruction_start_with_opcode, S_0x6318ba3314a0;
    %join;
    %wait E_0x6318ba217700;
    %vpi_call/w 3 958 "$display", "  Testing FLDLG2 (0xD9 0xEC)" {0 0 0};
    %pushi/str "FLDLG2 instruction detected";
    %store/str v0x6318ba316cb0_0;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x6318ba2ff7c0_0, 0, 1;
    %load/vec4 v0x6318ba333dd0_0;
    %pushi/vec4 217, 0, 8;
    %cmp/e;
    %flag_get/vec4 4;
    %store/vec4 v0x6318ba2fee20_0, 0, 1;
    %fork TD_microcode_tb.check_result, S_0x6318ba280090;
    %join;
    %fork TD_microcode_tb.wait_for_sequencer_settle, S_0x6318ba331860;
    %join;
    %pushi/vec4 217, 0, 8;
    %store/vec4 v0x6318ba317290_0, 0, 8;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x6318ba317050_0, 0, 1;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x6318ba317130_0, 0, 1;
    %pushi/vec4 0, 0, 2;
    %store/vec4 v0x6318ba317370_0, 0, 2;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x6318ba3171f0_0, 0, 1;
    %fork TD_microcode_tb.create_instruction, S_0x6318ba27f690;
    %join;
    %pushi/vec4 237, 0, 8;
    %ix/load 4, 8, 0;
    %flag_set/imm 4, 0;
    %store/vec4 v0x6318ba333b60_0, 4, 8;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x6318ba334690_0, 0, 1;
    %pushi/vec4 217, 0, 8;
    %store/vec4 v0x6318ba331680_0, 0, 8;
    %fork TD_microcode_tb.wait_for_instruction_start_with_opcode, S_0x6318ba3314a0;
    %join;
    %wait E_0x6318ba217700;
    %vpi_call/w 3 968 "$display", "  Testing FLDLN2 (0xD9 0xED)" {0 0 0};
    %pushi/str "FLDLN2 instruction detected";
    %store/str v0x6318ba316cb0_0;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x6318ba2ff7c0_0, 0, 1;
    %load/vec4 v0x6318ba333dd0_0;
    %pushi/vec4 217, 0, 8;
    %cmp/e;
    %flag_get/vec4 4;
    %store/vec4 v0x6318ba2fee20_0, 0, 1;
    %fork TD_microcode_tb.check_result, S_0x6318ba280090;
    %join;
    %vpi_call/w 3 974 "$display", "\012--- Test 15: Jump condition ---" {0 0 0};
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x6318ba332f30_0, 0, 1;
    %wait E_0x6318ba217700;
    %wait E_0x6318ba217700;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x6318ba332f30_0, 0, 1;
    %pushi/str "Jump taken processed";
    %store/str v0x6318ba316cb0_0;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x6318ba2ff7c0_0, 0, 1;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x6318ba2fee20_0, 0, 1;
    %fork TD_microcode_tb.check_result, S_0x6318ba280090;
    %join;
    %vpi_call/w 3 987 "$display", "\012--- Test 16: Zero flag ---" {0 0 0};
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x6318ba3351c0_0, 0, 1;
    %wait E_0x6318ba217700;
    %wait E_0x6318ba217700;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x6318ba3351c0_0, 0, 1;
    %pushi/str "Zero flag processed";
    %store/str v0x6318ba316cb0_0;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x6318ba2ff7c0_0, 0, 1;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x6318ba2fee20_0, 0, 1;
    %fork TD_microcode_tb.check_result, S_0x6318ba280090;
    %join;
    %vpi_call/w 3 999 "$display", "\012--- Test 17: Divide error ---" {0 0 0};
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x6318ba332330_0, 0, 1;
    %wait E_0x6318ba217700;
    %wait E_0x6318ba217700;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x6318ba332330_0, 0, 1;
    %pushi/str "Divide error processed";
    %store/str v0x6318ba316cb0_0;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x6318ba2ff7c0_0, 0, 1;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x6318ba2fee20_0, 0, 1;
    %fork TD_microcode_tb.check_result, S_0x6318ba280090;
    %join;
    %vpi_call/w 3 1012 "$display", "\012--- Test 18: HLT (0xF4) with NMI wake-up ---" {0 0 0};
    %fork TD_microcode_tb.wait_for_sequencer_settle, S_0x6318ba331860;
    %join;
    %pushi/vec4 244, 0, 8;
    %store/vec4 v0x6318ba317290_0, 0, 8;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x6318ba317050_0, 0, 1;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x6318ba317130_0, 0, 1;
    %pushi/vec4 0, 0, 2;
    %store/vec4 v0x6318ba317370_0, 0, 2;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x6318ba3171f0_0, 0, 1;
    %fork TD_microcode_tb.create_instruction, S_0x6318ba27f690;
    %join;
    %pushi/vec4 244, 0, 8;
    %store/vec4 v0x6318ba331680_0, 0, 8;
    %fork TD_microcode_tb.wait_for_instruction_start_with_opcode, S_0x6318ba3314a0;
    %join;
    %wait E_0x6318ba217700;
    %pushi/str "HLT detected";
    %store/str v0x6318ba316cb0_0;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x6318ba2ff7c0_0, 0, 1;
    %load/vec4 v0x6318ba332e60_0;
    %store/vec4 v0x6318ba2fee20_0, 0, 1;
    %fork TD_microcode_tb.check_result, S_0x6318ba280090;
    %join;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x6318ba333d00_0, 0, 1;
    %wait E_0x6318ba217700;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x6318ba333d00_0, 0, 1;
    %pushi/vec4 0, 0, 32;
    %store/vec4 v0x6318ba2fd6c0_0, 0, 32;
T_23.25 ;
    %load/vec4 v0x6318ba334aa0_0;
    %nor/r;
    %flag_set/vec4 9;
    %flag_get/vec4 9;
    %jmp/0 T_23.27, 9;
    %load/vec4 v0x6318ba2fd6c0_0;
    %cmpi/s 100, 0, 32;
    %flag_get/vec4 5;
    %and;
T_23.27;
    %flag_set/vec4 8;
    %jmp/0xz T_23.26, 8;
    %wait E_0x6318ba217700;
    %load/vec4 v0x6318ba2fd6c0_0;
    %addi 1, 0, 32;
    %store/vec4 v0x6318ba2fd6c0_0, 0, 32;
    %jmp T_23.25;
T_23.26 ;
    %pushi/str "NMI wakes CPU from HLT";
    %store/str v0x6318ba316cb0_0;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x6318ba2ff7c0_0, 0, 1;
    %load/vec4 v0x6318ba334aa0_0;
    %store/vec4 v0x6318ba2fee20_0, 0, 1;
    %fork TD_microcode_tb.check_result, S_0x6318ba280090;
    %join;
    %fork TD_microcode_tb.handle_nmi_interrupt, S_0x6318ba2821f0;
    %join;
    %pushi/str "NMI handler completes with IRET";
    %store/str v0x6318ba316cb0_0;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x6318ba2ff7c0_0, 0, 1;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x6318ba2fee20_0, 0, 1;
    %fork TD_microcode_tb.check_result, S_0x6318ba280090;
    %join;
    %delay 100000, 0;
    %vpi_call/w 3 1048 "$display", "\012========================================" {0 0 0};
    %vpi_call/w 3 1049 "$display", "Test Results:" {0 0 0};
    %vpi_call/w 3 1050 "$display", "  Total: %0d", v0x6318ba334c40_0 {0 0 0};
    %vpi_call/w 3 1051 "$display", "  Pass:  %0d", v0x6318ba333ea0_0 {0 0 0};
    %vpi_call/w 3 1052 "$display", "  Fail:  %0d", v0x6318ba3325a0_0 {0 0 0};
    %vpi_call/w 3 1053 "$display", "========================================" {0 0 0};
    %load/vec4 v0x6318ba3325a0_0;
    %cmpi/e 0, 0, 32;
    %jmp/0xz  T_23.28, 4;
    %vpi_call/w 3 1056 "$display", "*** ALL TESTS PASSED ***" {0 0 0};
    %jmp T_23.29;
T_23.28 ;
    %vpi_call/w 3 1058 "$display", "*** SOME TESTS FAILED ***" {0 0 0};
T_23.29 ;
    %vpi_call/w 3 1060 "$display", "\012========================================" {0 0 0};
    %vpi_call/w 3 1061 "$display", "SIMULATION PASSED!" {0 0 0};
    %vpi_call/w 3 1062 "$display", "========================================" {0 0 0};
    %vpi_call/w 3 1064 "$finish", 32'sb00000000000000000000000000000001 {0 0 0};
    %end;
    .scope S_0x6318ba281990;
t_0 %join;
    %end;
    .thread T_23;
    .scope S_0x6318ba281990;
T_24 ;
    %delay 200000000, 0;
    %vpi_call/w 3 1070 "$display", "\012========================================" {0 0 0};
    %vpi_call/w 3 1071 "$display", "ERROR: Simulation timeout!" {0 0 0};
    %vpi_call/w 3 1072 "$display", "========================================" {0 0 0};
    %vpi_call/w 3 1073 "$finish", 32'sb00000000000000000000000000000001 {0 0 0};
    %end;
    .thread T_24;
    .scope S_0x6318ba281990;
T_25 ;
    %vpi_call/w 3 1078 "$dumpfile", "microcode_tb.vcd" {0 0 0};
    %vpi_call/w 3 1079 "$dumpvars", 32'sb00000000000000000000000000000000, S_0x6318ba281990 {0 0 0};
    %end;
    .thread T_25;
# The file index is used to find the file name in the following table.
:file_names 5;
    "N/A";
    "<interactive>";
    "-";
    "microcode_tb.sv";
    "../Quartus/rtl/CPU/Microcode.sv";
